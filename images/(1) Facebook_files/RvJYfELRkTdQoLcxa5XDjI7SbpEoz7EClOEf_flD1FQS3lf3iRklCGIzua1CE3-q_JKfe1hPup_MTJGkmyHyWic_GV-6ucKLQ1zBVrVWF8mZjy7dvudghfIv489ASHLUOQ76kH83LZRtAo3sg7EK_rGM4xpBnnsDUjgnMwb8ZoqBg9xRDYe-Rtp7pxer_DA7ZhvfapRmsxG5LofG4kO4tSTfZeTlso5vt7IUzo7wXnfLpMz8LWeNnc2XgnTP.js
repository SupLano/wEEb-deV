if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }

__d("WATweetnacl",["tweetnacl.dist"],(function(a,b,c,d,e,f){"use strict";Object.keys(importNamespace("tweetnacl.dist")).forEach(function(a){if(a==="default"||a==="__esModule")return;f[a]=importNamespace("tweetnacl.dist")[a]})}),null);
__d("WACryptoUtils",["WATweetnacl"],(function(a,b,c,d,e,f,g){function a(a,b){return h(new Uint8Array(a),new Uint8Array(b))}function h(a,b){return a.length===0&&b.length===0||d("WATweetnacl").verify(a,b)}function b(a){if(a!==(a|0))throw new Error("bound must be int32");if(a<=0)throw new Error("bound must not be positive");var b=new Int32Array(1),c=-1>>>1;c=a*Math.floor(c/a);var d=-1;while(d===-1){self.crypto.getRandomValues(b);var e=b[0]>>>1;e<c&&(d=e%a)}return d}g.areBuffersEqual=a;g.areBytesEqual=h;g.randomNumberLessThan=b}),98);
__d("WASignalLocalStorageProtocol.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={},i={},j={},k={},l={},m={},n={},o={},p={},q={};a.internalSpec={sessionVersion:[1,d("WAProtoConst").TYPES.UINT32],localIdentityPublic:[2,d("WAProtoConst").TYPES.BYTES],remoteIdentityPublic:[3,d("WAProtoConst").TYPES.BYTES],rootKey:[4,d("WAProtoConst").TYPES.BYTES],previousCounter:[5,d("WAProtoConst").TYPES.UINT32],senderChain:[6,d("WAProtoConst").TYPES.MESSAGE,e],receiverChains:[7,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,e],pendingKeyExchange:[8,d("WAProtoConst").TYPES.MESSAGE,c],pendingPreKey:[9,d("WAProtoConst").TYPES.MESSAGE,b],remoteRegistrationId:[10,d("WAProtoConst").TYPES.UINT32],localRegistrationId:[11,d("WAProtoConst").TYPES.UINT32],needsRefresh:[12,d("WAProtoConst").TYPES.BOOL],aliceBaseKey:[13,d("WAProtoConst").TYPES.BYTES]};b.internalSpec={preKeyId:[1,d("WAProtoConst").TYPES.UINT32],signedPreKeyId:[3,d("WAProtoConst").TYPES.INT32],baseKey:[2,d("WAProtoConst").TYPES.BYTES]};c.internalSpec={sequence:[1,d("WAProtoConst").TYPES.UINT32],localBaseKey:[2,d("WAProtoConst").TYPES.BYTES],localBaseKeyPrivate:[3,d("WAProtoConst").TYPES.BYTES],localRatchetKey:[4,d("WAProtoConst").TYPES.BYTES],localRatchetKeyPrivate:[5,d("WAProtoConst").TYPES.BYTES],localIdentityKey:[7,d("WAProtoConst").TYPES.BYTES],localIdentityKeyPrivate:[8,d("WAProtoConst").TYPES.BYTES]};e.internalSpec={senderRatchetKey:[1,d("WAProtoConst").TYPES.BYTES],senderRatchetKeyPrivate:[2,d("WAProtoConst").TYPES.BYTES],chainKey:[3,d("WAProtoConst").TYPES.MESSAGE,h],messageKeys:[4,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,f]};f.internalSpec={index:[1,d("WAProtoConst").TYPES.UINT32],cipherKey:[2,d("WAProtoConst").TYPES.BYTES],macKey:[3,d("WAProtoConst").TYPES.BYTES],iv:[4,d("WAProtoConst").TYPES.BYTES]};h.internalSpec={index:[1,d("WAProtoConst").TYPES.UINT32],key:[2,d("WAProtoConst").TYPES.BYTES]};i.internalSpec={currentSession:[1,d("WAProtoConst").TYPES.MESSAGE,a],previousSessions:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,a]};j.internalSpec={id:[1,d("WAProtoConst").TYPES.UINT32],publicKey:[2,d("WAProtoConst").TYPES.BYTES],privateKey:[3,d("WAProtoConst").TYPES.BYTES]};k.internalSpec={id:[1,d("WAProtoConst").TYPES.UINT32],publicKey:[2,d("WAProtoConst").TYPES.BYTES],privateKey:[3,d("WAProtoConst").TYPES.BYTES],signature:[4,d("WAProtoConst").TYPES.BYTES],timestamp:[5,d("WAProtoConst").TYPES.FIXED64]};l.internalSpec={publicKey:[1,d("WAProtoConst").TYPES.BYTES],privateKey:[2,d("WAProtoConst").TYPES.BYTES]};m.internalSpec={senderKeyId:[1,d("WAProtoConst").TYPES.UINT32],senderChainKey:[2,d("WAProtoConst").TYPES.MESSAGE,p],senderSigningKey:[3,d("WAProtoConst").TYPES.MESSAGE,n],senderMessageKeys:[4,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,o]};n.internalSpec={"public":[1,d("WAProtoConst").TYPES.BYTES],"private":[2,d("WAProtoConst").TYPES.BYTES]};o.internalSpec={iteration:[1,d("WAProtoConst").TYPES.UINT32],seed:[2,d("WAProtoConst").TYPES.BYTES]};p.internalSpec={iteration:[1,d("WAProtoConst").TYPES.UINT32],seed:[2,d("WAProtoConst").TYPES.BYTES]};q.internalSpec={senderKeyStates:[1,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,m]};g.SessionStructureSpec=a;g.PendingPreKeySpec=b;g.PendingKeyExchangeSpec=c;g.ChainSpec=e;g.MessageKeySpec=f;g.ChainKeySpec=h;g.RecordStructureSpec=i;g.PreKeyRecordStructureSpec=j;g.SignedPreKeyRecordStructureSpec=k;g.IdentityKeyPairStructureSpec=l;g.SenderKeyStateStructureSpec=m;g.SenderSigningKeySpec=n;g.SenderMessageKeySpec=o;g.SenderChainKeySpec=p;g.SenderKeyRecordStructureSpec=q}),98);
__d("WASignalOther",["WACryptoHkdf","WACryptoUtils","decodeProtobuf","encodeProtobuf"],(function(a,b,c,d,e,f,g){var h={name:"AES-CBC"},i={name:"HMAC",hash:"SHA-256"};function j(a,b){if(a.length!==b)throw new Error("Signal expected "+b+" bytes, given "+a.length);return a}function a(a,b){return j(new Uint8Array(a),b)}function b(a){var b=a.buffer,c=a.byteOffset;a=a.length;return c===0&&a===b.byteLength?b:b.slice(c,c+a)}function c(a,b){return a.readByteArray(b)}function e(a){return new Uint8Array(a)}function f(a,b,c){if(a.length-b<c)throw new Error("Can not split off "+c+" bytes from index "+b+" of "+a.length+" bytes");return a.slice(b,b+c)}function k(a){a=a==="extendedRange"?(-1>>>1)-1:16380;return d("WACryptoUtils").randomNumberLessThan(a)+1}function l(a){return o(a)}function m(){var a=-1>>>1;return d("WACryptoUtils").randomNumberLessThan(a)+1}function n(a){return o(a)}function o(a,b,c){b===void 0&&(b=0);c===void 0&&(c=4294967296);if(typeof a==="number"&&b<=a&&a<c&&Math.floor(a)===a)return a;else throw new Error("Expected integer in range ["+b+", "+c+"), given "+String(a))}function p(a,b){return d("encodeProtobuf").encodeProtobuf(a,b).readByteArray()}function q(a,b,c){return c(d("decodeProtobuf").decodeProtobuf(a,b))}function r(a,b,c,e){return d("WACryptoHkdf").extractWithSaltAndExpand(a,b,c,e).then(function(a){return new Uint8Array(a)})}function s(a,b){var c,d;b==="hmac-sha256"?(c=i,d=["sign"]):(b,c=h,d=["encrypt","decrypt"]);return self.crypto.subtle.importKey("raw",a,c,!1,d)}function t(a){return a}g.AES_CBC=h;g.HMAC_SHA256=i;g.ensureSize=j;g.toBytes=a;g.toBuffer=b;g.readBytes=c;g.makeBytes=e;g.sliceBytes=f;g.makeRegistrationId=k;g.castRegistrationId=l;g.makeSenderKeyId=m;g.castSenderKeyId=n;g.ensureIntInRange=o;g.encodeSignalProto=p;g.decodeSignalProto=q;g.hkdf=r;g.makeCryptoKey=s;g.castToByteEncoded=t}),98);
__d("WASignalKeys",["WASignalLocalStorageProtocol.pb","WASignalOther","WATweetnacl","decodeProtobuf"],(function(a,b,c,d,e,f,g){var h=5,i=16777215;function j(a,b){return{publicKey:a,privateKey:b}}function a(a){a=d("WATweetnacl").box.keyPair.fromSecretKey(a);var b=a.publicKey;a=a.secretKey;return j(d("WASignalOther").ensureSize(b,32),d("WASignalOther").ensureSize(a,32))}function b(a,b){return{publicKey:d("WASignalOther").toBytes(a,32),privateKey:d("WASignalOther").toBytes(b,32)}}function k(){var a=d("WATweetnacl").box.keyPair(),b=a.publicKey;a=a.secretKey;a[0]&=248;a[31]=64|a[31]&63;return j(d("WASignalOther").ensureSize(b,32),d("WASignalOther").ensureSize(a,32))}function l(a,b){return j(d("WASignalOther").sliceBytes(b,1,32),a)}function m(a,b){return{serializedPubKey:b,privateKey:a}}function c(){var a=k();return m(a.privateKey,n(a))}function n(a){var b=d("WASignalOther").makeBytes(33);b[0]=h;b.set(a.publicKey,1);return b}function e(a){var b=d("WASignalOther").makeBytes(33);b[0]=h;b.set(d("WASignalOther").ensureSize(a,32),1);return b}function f(a){return m(a.privateKey,n(a))}function o(a,b){a=(a-1)%i;a<=0&&(a+=i);var c=[];for(var e=0;e<b;e++){var f=a===i?1:a+1,g=k(),h=d("WASignalOther").encodeSignalProto(d("WASignalLocalStorageProtocol.pb").PreKeyRecordStructureSpec,{id:f,publicKey:n(g),privateKey:g.privateKey});c.push({plainObject:{id:f,keyPair:g},record:h});a=f}return c}function p(a){try{a=d("decodeProtobuf").decodeProtobuf(d("WASignalLocalStorageProtocol.pb").PreKeyRecordStructureSpec,a);var b=a.id,c=a.publicKey;a=a.privateKey;return b==null||c==null||a==null?null:{id:q(b),keyPair:l(d("WASignalOther").toBytes(a,32),r(new Uint8Array(c)))}}catch(a){return null}}function q(a){return d("WASignalOther").ensureIntInRange(a,1,i)}function r(a){if(a.length===0||a[0]!==h)throw new Error("Unrecognized public key type");return d("WASignalOther").ensureSize(a,33)}function s(){var a=d("WASignalOther").makeBytes(32);self.crypto.getRandomValues(a);return a}function t(a,b){return d("WATweetnacl").scalarMult(a,b.subarray(1)).buffer}g.KEY_TYPE=h;g.makeKeyPairFrom=a;g.makeKeyPairFromArrayBuffers=b;g.makeKeyPair=k;g.makeKeyPairFromSerialized=l;g.makeSerializedKeyPairFrom=m;g.makeSerializedKeyPair=c;g.serializePubKey=n;g.serializeIdentity=e;g.toSerializedKeyPair=f;g.makePreKeys=o;g.deserializePreKey=p;g.castToPreKeyId=q;g.castToSerializedPubKey=r;g.makeRawSenderKey=s;g.ecdh=t}),98);
__d("WAShiftTimer",[],(function(a,b,c,d,e,f){a=function(){function a(a){var b=this;this.$2=0;this.$3=0;this.ts=0;this.$4=0;this.$5=0;this.$6=0;this.$7=void 0;this.$8=function(){var a=b.$7,c=b.$1;b.$3=0;b.$2=0;b.ts=0;b.$4=0;b.$5=0;b.$6=0;b.$7=void 0;c(a)};this.onOrBefore=function(a,c){g(a);var d=Date.now();d=d+a;var e=b.$5;if(e!==0&&e<d)return;e=b.$6;if(e!==0&&d<e)return;b.$5=d;!b.$3&&(!b.$2||d<b.ts)&&b.$9(d,a,c)};this.forceRunNow=function(a){b.$2&&clearTimeout(b.$2),b.$3&&cancelAnimationFrame(b.$3),b.$7=a,b.$8()};this.cancel=function(){b.$2&&clearTimeout(b.$2),b.$3&&cancelAnimationFrame(b.$3),b.$2=0,b.$3=0,b.ts=0,b.$4=0,b.$5=0,b.$6=0,b.$7=void 0};this.$1=a}var b=a.prototype;b.onOrBeforeRepaint=function(a){if(this.$3)return;var b=Date.now(),c=this.$6;if(c!==0&&b<c)return;c=this.$5;(c===0||b<c)&&(this.$5=b);this.$2&&(clearTimeout(this.$2),this.$2=0);(!this.ts||this.ts>b)&&(this.ts=b);this.$7=a;this.$3=requestAnimationFrame(this.$8)};b.onOrAfter=function(a,b){g(a);var c=Date.now();c=c+a;var d=this.$6;if(d!==0&&c<d)return;d=this.$5;if(d!==0&&d<c)return;this.$6=c;(!this.$2||this.ts<c)&&this.$9(c,a,b)};b.debounce=function(a,b){g(a),this.$10(Date.now(),a,b)};b.debounceAndCap=function(a,b,c){g(a);g(b);var d=Date.now();b=d+b;var e=this.$6,f=this.$5;(e===0||e<=b)&&(f===0||b<f)&&(this.$5=b);this.$10(d,a,c)};b.forceRunNowIfScheduled=function(){this.$2?(clearTimeout(this.$2),this.$8()):this.$3&&(cancelAnimationFrame(this.$3),this.$8())};b.isScheduled=function(){return this.$2!==0||this.$3!==0};b.$10=function(a,b,c){var d=a+b,e=this.$6;if(e!==0&&d<e)return;e=this.ts;var f=this.$5;f!==0&&f<d?e<f&&this.$9(f,f-a,c):e<d&&this.$9(d,b,c)};b.$9=function(a,b,c){this.$3&&(cancelAnimationFrame(this.$3),this.$3=0);this.$7=c;this.ts=a;if(this.$2){c=a-this.$4;if(-16<c&&c<16)return;clearTimeout(this.$2)}this.$2=setTimeout(this.$8,b);this.$4=a};return a}();function g(a){if(!(a>=0))throw new Error("ShiftTimer must be given delay >= 0")}f.ShiftTimer=a}),66);
/**
 * License: https://www.facebook.com/legal/license/OKBVmODmb-W/
 */
__d("tweetnacl-1.0.3",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){(function(a){var b=function(a){var b,c=new Float64Array(16);if(a)for(b=0;b<a.length;b++)c[b]=a[b];return c},c=function(){throw new Error("no PRNG")},d=new Uint8Array(16),e=new Uint8Array(32);e[0]=9;var f=b(),g=b([1]),h=b([56129,1]),i=b([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),j=b([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=b([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=b([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=b([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function n(a,b,c,d){a[b]=c>>24&255,a[b+1]=c>>16&255,a[b+2]=c>>8&255,a[b+3]=c&255,a[b+4]=d>>24&255,a[b+5]=d>>16&255,a[b+6]=d>>8&255,a[b+7]=d&255}function o(a,b,c,d,e){var f,g=0;for(f=0;f<e;f++)g|=a[b+f]^c[d+f];return(1&g-1>>>8)-1}function p(a,b,c,d){return o(a,b,c,d,16)}function q(a,b,c,d){return o(a,b,c,d,32)}function r(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;var r=e,s=f,t=g,u=h,v=i,w=j,x=k,y=l,z=m,A=b,B=n,C=o,D=p,E=q,F=c,G=d,H;for(var I=0;I<20;I+=2)H=r+D|0,v^=H<<7|H>>>32-7,H=v+r|0,z^=H<<9|H>>>32-9,H=z+v|0,D^=H<<13|H>>>32-13,H=D+z|0,r^=H<<18|H>>>32-18,H=w+s|0,A^=H<<7|H>>>32-7,H=A+w|0,E^=H<<9|H>>>32-9,H=E+A|0,s^=H<<13|H>>>32-13,H=s+E|0,w^=H<<18|H>>>32-18,H=B+x|0,F^=H<<7|H>>>32-7,H=F+B|0,t^=H<<9|H>>>32-9,H=t+F|0,x^=H<<13|H>>>32-13,H=x+t|0,B^=H<<18|H>>>32-18,H=G+C|0,u^=H<<7|H>>>32-7,H=u+G|0,y^=H<<9|H>>>32-9,H=y+u|0,C^=H<<13|H>>>32-13,H=C+y|0,G^=H<<18|H>>>32-18,H=r+u|0,s^=H<<7|H>>>32-7,H=s+r|0,t^=H<<9|H>>>32-9,H=t+s|0,u^=H<<13|H>>>32-13,H=u+t|0,r^=H<<18|H>>>32-18,H=w+v|0,x^=H<<7|H>>>32-7,H=x+w|0,y^=H<<9|H>>>32-9,H=y+x|0,v^=H<<13|H>>>32-13,H=v+y|0,w^=H<<18|H>>>32-18,H=B+A|0,C^=H<<7|H>>>32-7,H=C+B|0,z^=H<<9|H>>>32-9,H=z+C|0,A^=H<<13|H>>>32-13,H=A+z|0,B^=H<<18|H>>>32-18,H=G+F|0,D^=H<<7|H>>>32-7,H=D+G|0,E^=H<<9|H>>>32-9,H=E+D|0,F^=H<<13|H>>>32-13,H=F+E|0,G^=H<<18|H>>>32-18;r=r+e|0;s=s+f|0;t=t+g|0;u=u+h|0;v=v+i|0;w=w+j|0;x=x+k|0;y=y+l|0;z=z+m|0;A=A+b|0;B=B+n|0;C=C+o|0;D=D+p|0;E=E+q|0;F=F+c|0;G=G+d|0;a[0]=r>>>0&255;a[1]=r>>>8&255;a[2]=r>>>16&255;a[3]=r>>>24&255;a[4]=s>>>0&255;a[5]=s>>>8&255;a[6]=s>>>16&255;a[7]=s>>>24&255;a[8]=t>>>0&255;a[9]=t>>>8&255;a[10]=t>>>16&255;a[11]=t>>>24&255;a[12]=u>>>0&255;a[13]=u>>>8&255;a[14]=u>>>16&255;a[15]=u>>>24&255;a[16]=v>>>0&255;a[17]=v>>>8&255;a[18]=v>>>16&255;a[19]=v>>>24&255;a[20]=w>>>0&255;a[21]=w>>>8&255;a[22]=w>>>16&255;a[23]=w>>>24&255;a[24]=x>>>0&255;a[25]=x>>>8&255;a[26]=x>>>16&255;a[27]=x>>>24&255;a[28]=y>>>0&255;a[29]=y>>>8&255;a[30]=y>>>16&255;a[31]=y>>>24&255;a[32]=z>>>0&255;a[33]=z>>>8&255;a[34]=z>>>16&255;a[35]=z>>>24&255;a[36]=A>>>0&255;a[37]=A>>>8&255;a[38]=A>>>16&255;a[39]=A>>>24&255;a[40]=B>>>0&255;a[41]=B>>>8&255;a[42]=B>>>16&255;a[43]=B>>>24&255;a[44]=C>>>0&255;a[45]=C>>>8&255;a[46]=C>>>16&255;a[47]=C>>>24&255;a[48]=D>>>0&255;a[49]=D>>>8&255;a[50]=D>>>16&255;a[51]=D>>>24&255;a[52]=E>>>0&255;a[53]=E>>>8&255;a[54]=E>>>16&255;a[55]=E>>>24&255;a[56]=F>>>0&255;a[57]=F>>>8&255;a[58]=F>>>16&255;a[59]=F>>>24&255;a[60]=G>>>0&255;a[61]=G>>>8&255;a[62]=G>>>16&255;a[63]=G>>>24&255}function s(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;e=e;f=f;g=g;h=h;i=i;j=j;k=k;l=l;m=m;b=b;n=n;o=o;p=p;q=q;c=c;d=d;var r;for(var s=0;s<20;s+=2)r=e+p|0,i^=r<<7|r>>>32-7,r=i+e|0,m^=r<<9|r>>>32-9,r=m+i|0,p^=r<<13|r>>>32-13,r=p+m|0,e^=r<<18|r>>>32-18,r=j+f|0,b^=r<<7|r>>>32-7,r=b+j|0,q^=r<<9|r>>>32-9,r=q+b|0,f^=r<<13|r>>>32-13,r=f+q|0,j^=r<<18|r>>>32-18,r=n+k|0,c^=r<<7|r>>>32-7,r=c+n|0,g^=r<<9|r>>>32-9,r=g+c|0,k^=r<<13|r>>>32-13,r=k+g|0,n^=r<<18|r>>>32-18,r=d+o|0,h^=r<<7|r>>>32-7,r=h+d|0,l^=r<<9|r>>>32-9,r=l+h|0,o^=r<<13|r>>>32-13,r=o+l|0,d^=r<<18|r>>>32-18,r=e+h|0,f^=r<<7|r>>>32-7,r=f+e|0,g^=r<<9|r>>>32-9,r=g+f|0,h^=r<<13|r>>>32-13,r=h+g|0,e^=r<<18|r>>>32-18,r=j+i|0,k^=r<<7|r>>>32-7,r=k+j|0,l^=r<<9|r>>>32-9,r=l+k|0,i^=r<<13|r>>>32-13,r=i+l|0,j^=r<<18|r>>>32-18,r=n+b|0,o^=r<<7|r>>>32-7,r=o+n|0,m^=r<<9|r>>>32-9,r=m+o|0,b^=r<<13|r>>>32-13,r=b+m|0,n^=r<<18|r>>>32-18,r=d+c|0,p^=r<<7|r>>>32-7,r=p+d|0,q^=r<<9|r>>>32-9,r=q+p|0,c^=r<<13|r>>>32-13,r=c+q|0,d^=r<<18|r>>>32-18;a[0]=e>>>0&255;a[1]=e>>>8&255;a[2]=e>>>16&255;a[3]=e>>>24&255;a[4]=j>>>0&255;a[5]=j>>>8&255;a[6]=j>>>16&255;a[7]=j>>>24&255;a[8]=n>>>0&255;a[9]=n>>>8&255;a[10]=n>>>16&255;a[11]=n>>>24&255;a[12]=d>>>0&255;a[13]=d>>>8&255;a[14]=d>>>16&255;a[15]=d>>>24&255;a[16]=k>>>0&255;a[17]=k>>>8&255;a[18]=k>>>16&255;a[19]=k>>>24&255;a[20]=l>>>0&255;a[21]=l>>>8&255;a[22]=l>>>16&255;a[23]=l>>>24&255;a[24]=m>>>0&255;a[25]=m>>>8&255;a[26]=m>>>16&255;a[27]=m>>>24&255;a[28]=b>>>0&255;a[29]=b>>>8&255;a[30]=b>>>16&255;a[31]=b>>>24&255}function t(a,b,c,d){r(a,b,c,d)}function u(a,b,c,d){s(a,b,c,d)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(a,b,c,d,e,f,g){var h=new Uint8Array(16),i=new Uint8Array(64),j;for(j=0;j<16;j++)h[j]=0;for(j=0;j<8;j++)h[j]=f[j];while(e>=64){t(i,h,g,v);for(j=0;j<64;j++)a[b+j]=c[d+j]^i[j];f=1;for(j=8;j<16;j++)f=f+(h[j]&255)|0,h[j]=f&255,f>>>=8;e-=64;b+=64;d+=64}if(e>0){t(i,h,g,v);for(j=0;j<e;j++)a[b+j]=c[d+j]^i[j]}return 0}function x(a,b,c,d,e){var f=new Uint8Array(16),g=new Uint8Array(64),h;for(h=0;h<16;h++)f[h]=0;for(h=0;h<8;h++)f[h]=d[h];while(c>=64){t(g,f,e,v);for(h=0;h<64;h++)a[b+h]=g[h];d=1;for(h=8;h<16;h++)d=d+(f[h]&255)|0,f[h]=d&255,d>>>=8;c-=64;b+=64}if(c>0){t(g,f,e,v);for(h=0;h<c;h++)a[b+h]=g[h]}return 0}function y(a,b,c,d,e){var f=new Uint8Array(32);u(f,d,e,v);e=new Uint8Array(8);for(var g=0;g<8;g++)e[g]=d[g+16];return x(a,b,c,e,f)}function z(a,b,c,d,e,f,g){var h=new Uint8Array(32);u(h,f,g,v);g=new Uint8Array(8);for(var i=0;i<8;i++)g[i]=f[i+16];return w(a,b,c,d,e,g,h)}var A=function(a){this.buffer=new Uint8Array(16);this.r=new Uint16Array(10);this.h=new Uint16Array(10);this.pad=new Uint16Array(8);this.leftover=0;this.fin=0;var b,c;b=a[0]&255|(a[1]&255)<<8;this.r[0]=b&8191;c=a[2]&255|(a[3]&255)<<8;this.r[1]=(b>>>13|c<<3)&8191;b=a[4]&255|(a[5]&255)<<8;this.r[2]=(c>>>10|b<<6)&7939;c=a[6]&255|(a[7]&255)<<8;this.r[3]=(b>>>7|c<<9)&8191;b=a[8]&255|(a[9]&255)<<8;this.r[4]=(c>>>4|b<<12)&255;this.r[5]=b>>>1&8190;c=a[10]&255|(a[11]&255)<<8;this.r[6]=(b>>>14|c<<2)&8191;b=a[12]&255|(a[13]&255)<<8;this.r[7]=(c>>>11|b<<5)&8065;c=a[14]&255|(a[15]&255)<<8;this.r[8]=(b>>>8|c<<8)&8191;this.r[9]=c>>>5&127;this.pad[0]=a[16]&255|(a[17]&255)<<8;this.pad[1]=a[18]&255|(a[19]&255)<<8;this.pad[2]=a[20]&255|(a[21]&255)<<8;this.pad[3]=a[22]&255|(a[23]&255)<<8;this.pad[4]=a[24]&255|(a[25]&255)<<8;this.pad[5]=a[26]&255|(a[27]&255)<<8;this.pad[6]=a[28]&255|(a[29]&255)<<8;this.pad[7]=a[30]&255|(a[31]&255)<<8};A.prototype.blocks=function(a,b,c){var d=this.fin?0:1<<11,e,f,g,h,i,j,k,l,m,n,o,p=this.h[0],q=this.h[1],r=this.h[2],s=this.h[3],t=this.h[4],u=this.h[5],v=this.h[6],w=this.h[7],x=this.h[8],y=this.h[9],z=this.r[0],A=this.r[1],B=this.r[2],C=this.r[3],D=this.r[4],E=this.r[5],F=this.r[6],G=this.r[7],H=this.r[8],I=this.r[9];while(c>=16)e=a[b+0]&255|(a[b+1]&255)<<8,p+=e&8191,f=a[b+2]&255|(a[b+3]&255)<<8,q+=(e>>>13|f<<3)&8191,e=a[b+4]&255|(a[b+5]&255)<<8,r+=(f>>>10|e<<6)&8191,f=a[b+6]&255|(a[b+7]&255)<<8,s+=(e>>>7|f<<9)&8191,e=a[b+8]&255|(a[b+9]&255)<<8,t+=(f>>>4|e<<12)&8191,u+=e>>>1&8191,f=a[b+10]&255|(a[b+11]&255)<<8,v+=(e>>>14|f<<2)&8191,e=a[b+12]&255|(a[b+13]&255)<<8,w+=(f>>>11|e<<5)&8191,f=a[b+14]&255|(a[b+15]&255)<<8,x+=(e>>>8|f<<8)&8191,y+=f>>>5|d,e=0,f=e,f+=p*z,f+=q*(5*I),f+=r*(5*H),f+=s*(5*G),f+=t*(5*F),e=f>>>13,f&=8191,f+=u*(5*E),f+=v*(5*D),f+=w*(5*C),f+=x*(5*B),f+=y*(5*A),e+=f>>>13,f&=8191,g=e,g+=p*A,g+=q*z,g+=r*(5*I),g+=s*(5*H),g+=t*(5*G),e=g>>>13,g&=8191,g+=u*(5*F),g+=v*(5*E),g+=w*(5*D),g+=x*(5*C),g+=y*(5*B),e+=g>>>13,g&=8191,h=e,h+=p*B,h+=q*A,h+=r*z,h+=s*(5*I),h+=t*(5*H),e=h>>>13,h&=8191,h+=u*(5*G),h+=v*(5*F),h+=w*(5*E),h+=x*(5*D),h+=y*(5*C),e+=h>>>13,h&=8191,i=e,i+=p*C,i+=q*B,i+=r*A,i+=s*z,i+=t*(5*I),e=i>>>13,i&=8191,i+=u*(5*H),i+=v*(5*G),i+=w*(5*F),i+=x*(5*E),i+=y*(5*D),e+=i>>>13,i&=8191,j=e,j+=p*D,j+=q*C,j+=r*B,j+=s*A,j+=t*z,e=j>>>13,j&=8191,j+=u*(5*I),j+=v*(5*H),j+=w*(5*G),j+=x*(5*F),j+=y*(5*E),e+=j>>>13,j&=8191,k=e,k+=p*E,k+=q*D,k+=r*C,k+=s*B,k+=t*A,e=k>>>13,k&=8191,k+=u*z,k+=v*(5*I),k+=w*(5*H),k+=x*(5*G),k+=y*(5*F),e+=k>>>13,k&=8191,l=e,l+=p*F,l+=q*E,l+=r*D,l+=s*C,l+=t*B,e=l>>>13,l&=8191,l+=u*A,l+=v*z,l+=w*(5*I),l+=x*(5*H),l+=y*(5*G),e+=l>>>13,l&=8191,m=e,m+=p*G,m+=q*F,m+=r*E,m+=s*D,m+=t*C,e=m>>>13,m&=8191,m+=u*B,m+=v*A,m+=w*z,m+=x*(5*I),m+=y*(5*H),e+=m>>>13,m&=8191,n=e,n+=p*H,n+=q*G,n+=r*F,n+=s*E,n+=t*D,e=n>>>13,n&=8191,n+=u*C,n+=v*B,n+=w*A,n+=x*z,n+=y*(5*I),e+=n>>>13,n&=8191,o=e,o+=p*I,o+=q*H,o+=r*G,o+=s*F,o+=t*E,e=o>>>13,o&=8191,o+=u*D,o+=v*C,o+=w*B,o+=x*A,o+=y*z,e+=o>>>13,o&=8191,e=(e<<2)+e|0,e=e+f|0,f=e&8191,e=e>>>13,g+=e,p=f,q=g,r=h,s=i,t=j,u=k,v=l,w=m,x=n,y=o,b+=16,c-=16;this.h[0]=p;this.h[1]=q;this.h[2]=r;this.h[3]=s;this.h[4]=t;this.h[5]=u;this.h[6]=v;this.h[7]=w;this.h[8]=x;this.h[9]=y};A.prototype.finish=function(a,b){var c=new Uint16Array(10),d,e;if(this.leftover){e=this.leftover;this.buffer[e++]=1;for(;e<16;e++)this.buffer[e]=0;this.fin=1;this.blocks(this.buffer,0,16)}d=this.h[1]>>>13;this.h[1]&=8191;for(e=2;e<10;e++)this.h[e]+=d,d=this.h[e]>>>13,this.h[e]&=8191;this.h[0]+=d*5;d=this.h[0]>>>13;this.h[0]&=8191;this.h[1]+=d;d=this.h[1]>>>13;this.h[1]&=8191;this.h[2]+=d;c[0]=this.h[0]+5;d=c[0]>>>13;c[0]&=8191;for(e=1;e<10;e++)c[e]=this.h[e]+d,d=c[e]>>>13,c[e]&=8191;c[9]-=1<<13;d=(d^1)-1;for(e=0;e<10;e++)c[e]&=d;d=~d;for(e=0;e<10;e++)this.h[e]=this.h[e]&d|c[e];this.h[0]=(this.h[0]|this.h[1]<<13)&65535;this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535;this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535;this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535;this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535;this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535;this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535;this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535;c=this.h[0]+this.pad[0];this.h[0]=c&65535;for(e=1;e<8;e++)c=(this.h[e]+this.pad[e]|0)+(c>>>16)|0,this.h[e]=c&65535;a[b+0]=this.h[0]>>>0&255;a[b+1]=this.h[0]>>>8&255;a[b+2]=this.h[1]>>>0&255;a[b+3]=this.h[1]>>>8&255;a[b+4]=this.h[2]>>>0&255;a[b+5]=this.h[2]>>>8&255;a[b+6]=this.h[3]>>>0&255;a[b+7]=this.h[3]>>>8&255;a[b+8]=this.h[4]>>>0&255;a[b+9]=this.h[4]>>>8&255;a[b+10]=this.h[5]>>>0&255;a[b+11]=this.h[5]>>>8&255;a[b+12]=this.h[6]>>>0&255;a[b+13]=this.h[6]>>>8&255;a[b+14]=this.h[7]>>>0&255;a[b+15]=this.h[7]>>>8&255};A.prototype.update=function(a,b,c){var d,e;if(this.leftover){e=16-this.leftover;e>c&&(e=c);for(d=0;d<e;d++)this.buffer[this.leftover+d]=a[b+d];c-=e;b+=e;this.leftover+=e;if(this.leftover<16)return;this.blocks(this.buffer,0,16);this.leftover=0}c>=16&&(e=c-c%16,this.blocks(a,b,e),b+=e,c-=e);if(c){for(d=0;d<c;d++)this.buffer[this.leftover+d]=a[b+d];this.leftover+=c}};function B(a,b,c,d,e,f){f=new A(f);f.update(c,d,e);f.finish(a,b);return 0}function C(a,b,c,d,e,f){var g=new Uint8Array(16);B(g,0,c,d,e,f);return p(a,b,g,0)}function D(a,b,c,d,e){if(c<32)return-1;z(a,0,b,0,c,d,e);B(a,16,a,32,c-32,a);for(b=0;b<16;b++)a[b]=0;return 0}function E(a,b,c,d,e){var f=new Uint8Array(32);if(c<32)return-1;y(f,0,32,d,e);if(C(b,16,b,32,c-32,f)!==0)return-1;z(a,0,b,0,c,d,e);for(f=0;f<32;f++)a[f]=0;return 0}function F(a,b){var c;for(c=0;c<16;c++)a[c]=b[c]|0}function G(a){var b,c,d=1;for(b=0;b<16;b++)c=a[b]+d+65535,d=Math.floor(c/65536),a[b]=c-d*65536;a[0]+=d-1+37*(d-1)}function H(a,b,c){var d;c=~(c-1);for(var e=0;e<16;e++)d=c&(a[e]^b[e]),a[e]^=d,b[e]^=d}function I(a,c){var d,e,f=b(),g=b();for(d=0;d<16;d++)g[d]=c[d];G(g);G(g);G(g);for(c=0;c<2;c++){f[0]=g[0]-65517;for(d=1;d<15;d++)f[d]=g[d]-65535-(f[d-1]>>16&1),f[d-1]&=65535;f[15]=g[15]-32767-(f[14]>>16&1);e=f[15]>>16&1;f[14]&=65535;H(g,f,1-e)}for(d=0;d<16;d++)a[2*d]=g[d]&255,a[2*d+1]=g[d]>>8}function J(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);I(c,a);I(d,b);return q(c,0,d,0)}function K(a){var b=new Uint8Array(32);I(b,a);return b[0]&1}function L(a,b){var c;for(c=0;c<16;c++)a[c]=b[2*c]+(b[2*c+1]<<8);a[15]&=32767}function M(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]+c[d]}function N(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]-c[d]}function O(a,b,c){var d,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=c[0],K=c[1],L=c[2],M=c[3],N=c[4],O=c[5],P=c[6],Q=c[7],R=c[8],S=c[9],T=c[10],U=c[11],V=c[12],W=c[13],X=c[14];c=c[15];d=b[0];e+=d*J;f+=d*K;g+=d*L;h+=d*M;i+=d*N;j+=d*O;k+=d*P;l+=d*Q;m+=d*R;n+=d*S;o+=d*T;p+=d*U;q+=d*V;r+=d*W;s+=d*X;t+=d*c;d=b[1];f+=d*J;g+=d*K;h+=d*L;i+=d*M;j+=d*N;k+=d*O;l+=d*P;m+=d*Q;n+=d*R;o+=d*S;p+=d*T;q+=d*U;r+=d*V;s+=d*W;t+=d*X;u+=d*c;d=b[2];g+=d*J;h+=d*K;i+=d*L;j+=d*M;k+=d*N;l+=d*O;m+=d*P;n+=d*Q;o+=d*R;p+=d*S;q+=d*T;r+=d*U;s+=d*V;t+=d*W;u+=d*X;v+=d*c;d=b[3];h+=d*J;i+=d*K;j+=d*L;k+=d*M;l+=d*N;m+=d*O;n+=d*P;o+=d*Q;p+=d*R;q+=d*S;r+=d*T;s+=d*U;t+=d*V;u+=d*W;v+=d*X;w+=d*c;d=b[4];i+=d*J;j+=d*K;k+=d*L;l+=d*M;m+=d*N;n+=d*O;o+=d*P;p+=d*Q;q+=d*R;r+=d*S;s+=d*T;t+=d*U;u+=d*V;v+=d*W;w+=d*X;x+=d*c;d=b[5];j+=d*J;k+=d*K;l+=d*L;m+=d*M;n+=d*N;o+=d*O;p+=d*P;q+=d*Q;r+=d*R;s+=d*S;t+=d*T;u+=d*U;v+=d*V;w+=d*W;x+=d*X;y+=d*c;d=b[6];k+=d*J;l+=d*K;m+=d*L;n+=d*M;o+=d*N;p+=d*O;q+=d*P;r+=d*Q;s+=d*R;t+=d*S;u+=d*T;v+=d*U;w+=d*V;x+=d*W;y+=d*X;z+=d*c;d=b[7];l+=d*J;m+=d*K;n+=d*L;o+=d*M;p+=d*N;q+=d*O;r+=d*P;s+=d*Q;t+=d*R;u+=d*S;v+=d*T;w+=d*U;x+=d*V;y+=d*W;z+=d*X;A+=d*c;d=b[8];m+=d*J;n+=d*K;o+=d*L;p+=d*M;q+=d*N;r+=d*O;s+=d*P;t+=d*Q;u+=d*R;v+=d*S;w+=d*T;x+=d*U;y+=d*V;z+=d*W;A+=d*X;B+=d*c;d=b[9];n+=d*J;o+=d*K;p+=d*L;q+=d*M;r+=d*N;s+=d*O;t+=d*P;u+=d*Q;v+=d*R;w+=d*S;x+=d*T;y+=d*U;z+=d*V;A+=d*W;B+=d*X;C+=d*c;d=b[10];o+=d*J;p+=d*K;q+=d*L;r+=d*M;s+=d*N;t+=d*O;u+=d*P;v+=d*Q;w+=d*R;x+=d*S;y+=d*T;z+=d*U;A+=d*V;B+=d*W;C+=d*X;D+=d*c;d=b[11];p+=d*J;q+=d*K;r+=d*L;s+=d*M;t+=d*N;u+=d*O;v+=d*P;w+=d*Q;x+=d*R;y+=d*S;z+=d*T;A+=d*U;B+=d*V;C+=d*W;D+=d*X;E+=d*c;d=b[12];q+=d*J;r+=d*K;s+=d*L;t+=d*M;u+=d*N;v+=d*O;w+=d*P;x+=d*Q;y+=d*R;z+=d*S;A+=d*T;B+=d*U;C+=d*V;D+=d*W;E+=d*X;F+=d*c;d=b[13];r+=d*J;s+=d*K;t+=d*L;u+=d*M;v+=d*N;w+=d*O;x+=d*P;y+=d*Q;z+=d*R;A+=d*S;B+=d*T;C+=d*U;D+=d*V;E+=d*W;F+=d*X;G+=d*c;d=b[14];s+=d*J;t+=d*K;u+=d*L;v+=d*M;w+=d*N;x+=d*O;y+=d*P;z+=d*Q;A+=d*R;B+=d*S;C+=d*T;D+=d*U;E+=d*V;F+=d*W;G+=d*X;H+=d*c;d=b[15];t+=d*J;u+=d*K;v+=d*L;w+=d*M;x+=d*N;y+=d*O;z+=d*P;A+=d*Q;B+=d*R;C+=d*S;D+=d*T;E+=d*U;F+=d*V;G+=d*W;H+=d*X;I+=d*c;e+=38*u;f+=38*v;g+=38*w;h+=38*x;i+=38*y;j+=38*z;k+=38*A;l+=38*B;m+=38*C;n+=38*D;o+=38*E;p+=38*F;q+=38*G;r+=38*H;s+=38*I;b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);a[0]=e;a[1]=f;a[2]=g;a[3]=h;a[4]=i;a[5]=j;a[6]=k;a[7]=l;a[8]=m;a[9]=n;a[10]=o;a[11]=p;a[12]=q;a[13]=r;a[14]=s;a[15]=t}function P(a,b){O(a,b,b)}function Q(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=253;e>=0;e--)P(d,d),e!==2&&e!==4&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function R(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=250;e>=0;e--)P(d,d),e!==1&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function S(a,c,d){var e=new Uint8Array(32),f=new Float64Array(80),g,i=b(),j=b(),k=b(),l=b(),m=b(),n=b();for(g=0;g<31;g++)e[g]=c[g];e[31]=c[31]&127|64;e[0]&=248;L(f,d);for(g=0;g<16;g++)j[g]=f[g],l[g]=i[g]=k[g]=0;i[0]=l[0]=1;for(g=254;g>=0;--g)c=e[g>>>3]>>>(g&7)&1,H(i,j,c),H(k,l,c),M(m,i,k),N(i,i,k),M(k,j,l),N(j,j,l),P(l,m),P(n,i),O(i,k,i),O(k,j,m),M(m,i,k),N(i,i,k),P(j,i),N(k,l,n),O(i,k,h),M(i,i,l),O(k,k,i),O(i,l,n),O(l,j,f),P(j,m),H(i,j,c),H(k,l,c);for(g=0;g<16;g++)f[g+16]=i[g],f[g+32]=k[g],f[g+48]=j[g],f[g+64]=l[g];d=f.subarray(32);c=f.subarray(16);Q(d,d);O(c,c,d);I(a,c);return 0}function T(a,b){return S(a,b,e)}function U(a,b){c(b,32);return T(a,b)}function V(a,b,c){var e=new Uint8Array(32);S(e,c,b);return u(a,d,e,v)}var W=D,X=E;function aa(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return W(a,b,c,d,g)}function ba(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return X(a,b,c,d,g)}var ca=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function da(a,b,c,d){var e=new Int32Array(16),f=new Int32Array(16),g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=a[0],H=a[1],I=a[2],J=a[3],K=a[4],L=a[5],M=a[6],N=a[7],O=b[0],P=b[1],Q=b[2],R=b[3],S=b[4],T=b[5],U=b[6],V=b[7],W=0;while(d>=128){for(y=0;y<16;y++)z=8*y+W,e[y]=c[z+0]<<24|c[z+1]<<16|c[z+2]<<8|c[z+3],f[y]=c[z+4]<<24|c[z+5]<<16|c[z+6]<<8|c[z+7];for(y=0;y<80;y++){g=G;h=H;i=I;j=J;k=K;l=L;m=M;N;o=O;p=P;q=Q;r=R;s=S;t=T;u=U;V;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(K>>>14|S<<32-14)^(K>>>18|S<<32-18)^(S>>>41-32|K<<32-(41-32));B=(S>>>14|K<<32-14)^(S>>>18|K<<32-18)^(K>>>41-32|S<<32-(41-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=K&L^~K&M;B=S&T^~S&U;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=ca[y*2];B=ca[y*2+1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=e[y%16];B=f[y%16];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;w=E&65535|F<<16;x=C&65535|D<<16;A=w;B=x;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(G>>>28|O<<32-28)^(O>>>34-32|G<<32-(34-32))^(O>>>39-32|G<<32-(39-32));B=(O>>>28|G<<32-28)^(G>>>34-32|O<<32-(34-32))^(G>>>39-32|O<<32-(39-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=G&H^G&I^H&I;B=O&P^O&Q^P&Q;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;n=E&65535|F<<16;v=C&65535|D<<16;A=j;B=r;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=w;B=x;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;j=E&65535|F<<16;r=C&65535|D<<16;H=g;I=h;J=i;K=j;L=k;M=l;N=m;G=n;P=o;Q=p;R=q;S=r;T=s;U=t;V=u;O=v;if(y%16===15)for(z=0;z<16;z++)A=e[z],B=f[z],C=B&65535,D=B>>>16,E=A&65535,F=A>>>16,A=e[(z+9)%16],B=f[(z+9)%16],C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+1)%16],x=f[(z+1)%16],A=(w>>>1|x<<32-1)^(w>>>8|x<<32-8)^w>>>7,B=(x>>>1|w<<32-1)^(x>>>8|w<<32-8)^(x>>>7|w<<32-7),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+14)%16],x=f[(z+14)%16],A=(w>>>19|x<<32-19)^(x>>>61-32|w<<32-(61-32))^w>>>6,B=(x>>>19|w<<32-19)^(w>>>61-32|x<<32-(61-32))^(x>>>6|w<<32-6),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,D+=C>>>16,E+=D>>>16,F+=E>>>16,e[z]=E&65535|F<<16,f[z]=C&65535|D<<16}A=G;B=O;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[0];B=b[0];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[0]=G=E&65535|F<<16;b[0]=O=C&65535|D<<16;A=H;B=P;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[1];B=b[1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[1]=H=E&65535|F<<16;b[1]=P=C&65535|D<<16;A=I;B=Q;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[2];B=b[2];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[2]=I=E&65535|F<<16;b[2]=Q=C&65535|D<<16;A=J;B=R;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[3];B=b[3];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[3]=J=E&65535|F<<16;b[3]=R=C&65535|D<<16;A=K;B=S;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[4];B=b[4];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[4]=K=E&65535|F<<16;b[4]=S=C&65535|D<<16;A=L;B=T;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[5];B=b[5];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[5]=L=E&65535|F<<16;b[5]=T=C&65535|D<<16;A=M;B=U;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[6];B=b[6];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[6]=M=E&65535|F<<16;b[6]=U=C&65535|D<<16;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[7];B=b[7];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[7]=N=E&65535|F<<16;b[7]=V=C&65535|D<<16;W+=128;d-=128}return d}function Y(a,b,c){var d=new Int32Array(8),e=new Int32Array(8),f=new Uint8Array(256),g,h=c;d[0]=1779033703;d[1]=3144134277;d[2]=1013904242;d[3]=2773480762;d[4]=1359893119;d[5]=2600822924;d[6]=528734635;d[7]=1541459225;e[0]=4089235720;e[1]=2227873595;e[2]=4271175723;e[3]=1595750129;e[4]=2917565137;e[5]=725511199;e[6]=4215389547;e[7]=327033209;da(d,e,b,c);c%=128;for(g=0;g<c;g++)f[g]=b[h-c+g];f[c]=128;c=256-128*(c<112?1:0);f[c-9]=0;n(f,c-8,h/536870912|0,h<<3);da(d,e,f,c);for(g=0;g<8;g++)n(a,8*g,d[g],e[g]);return 0}function ea(a,c){var d=b(),e=b(),f=b(),g=b(),h=b(),i=b(),k=b(),l=b(),m=b();N(d,a[1],a[0]);N(m,c[1],c[0]);O(d,d,m);M(e,a[0],a[1]);M(m,c[0],c[1]);O(e,e,m);O(f,a[3],c[3]);O(f,f,j);O(g,a[2],c[2]);M(g,g,g);N(h,e,d);N(i,g,f);M(k,g,f);M(l,e,d);O(a[0],h,i);O(a[1],l,k);O(a[2],k,i);O(a[3],h,l)}function fa(a,b,c){var d;for(d=0;d<4;d++)H(a[d],b[d],c)}function ga(a,c){var d=b(),e=b(),f=b();Q(f,c[2]);O(d,c[0],f);O(e,c[1],f);I(a,e);a[31]^=K(d)<<7}function ha(a,b,c){var d,e;F(a[0],f);F(a[1],g);F(a[2],g);F(a[3],f);for(e=255;e>=0;--e)d=c[e/8|0]>>(e&7)&1,fa(a,b,d),ea(b,a),ea(a,a),fa(a,b,d)}function ia(a,c){var d=[b(),b(),b(),b()];F(d[0],k);F(d[1],l);F(d[2],g);O(d[3],k,l);ha(a,d,c)}function ja(a,d,e){var f=new Uint8Array(64),g=[b(),b(),b(),b()];e||c(d,32);Y(f,d,32);f[0]&=248;f[31]&=127;f[31]|=64;ia(g,f);ga(a,g);for(e=0;e<32;e++)d[e+32]=a[e];return 0}var ka=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function la(a,b){var c,d,e,f;for(d=63;d>=32;--d){c=0;for(e=d-32,f=d-12;e<f;++e)b[e]+=c-16*b[d]*ka[e-(d-32)],c=Math.floor((b[e]+128)/256),b[e]-=c*256;b[e]+=c;b[d]=0}c=0;for(e=0;e<32;e++)b[e]+=c-(b[31]>>4)*ka[e],c=b[e]>>8,b[e]&=255;for(e=0;e<32;e++)b[e]-=c*ka[e];for(d=0;d<32;d++)b[d+1]+=b[d]>>8,a[d]=b[d]&255}function ma(a){var b=new Float64Array(64),c;for(c=0;c<64;c++)b[c]=a[c];for(c=0;c<64;c++)a[c]=0;la(a,b)}function na(a,c,d,e){var f=new Uint8Array(64),g=new Uint8Array(64),h=new Uint8Array(64),i,j=new Float64Array(64),k=[b(),b(),b(),b()];Y(f,e,32);f[0]&=248;f[31]&=127;f[31]|=64;var l=d+64;for(i=0;i<d;i++)a[64+i]=c[i];for(i=0;i<32;i++)a[32+i]=f[32+i];Y(h,a.subarray(32),d+32);ma(h);ia(k,h);ga(a,k);for(i=32;i<64;i++)a[i]=e[i];Y(g,a,d+64);ma(g);for(i=0;i<64;i++)j[i]=0;for(i=0;i<32;i++)j[i]=h[i];for(i=0;i<32;i++)for(c=0;c<32;c++)j[i+c]+=g[i]*f[c];la(a.subarray(32),j);return l}function oa(a,c){var d=b(),e=b(),h=b(),j=b(),k=b(),l=b(),n=b();F(a[2],g);L(a[1],c);P(h,a[1]);O(j,h,i);N(h,h,a[2]);M(j,a[2],j);P(k,j);P(l,k);O(n,l,k);O(d,n,h);O(d,d,j);R(d,d);O(d,d,h);O(d,d,j);O(d,d,j);O(a[0],d,j);P(e,a[0]);O(e,e,j);J(e,h)&&O(a[0],a[0],m);P(e,a[0]);O(e,e,j);if(J(e,h))return-1;K(a[0])===c[31]>>7&&N(a[0],f,a[0]);O(a[3],a[0],a[1]);return 0}function pa(a,c,d,e){var f,g=new Uint8Array(32),h=new Uint8Array(64),i=[b(),b(),b(),b()],j=[b(),b(),b(),b()];if(d<64)return-1;if(oa(j,e))return-1;for(f=0;f<d;f++)a[f]=c[f];for(f=0;f<32;f++)a[f+32]=e[f];Y(h,a,d);ma(h);ha(i,j,h);ia(j,c.subarray(32));ea(i,j);ga(g,i);d-=64;if(q(c,0,g,0)){for(f=0;f<d;f++)a[f]=0;return-1}for(f=0;f<d;f++)a[f]=c[f+64];return d}var qa=32,ra=24,sa=32,ta=16,ua=32,va=32,wa=32,xa=32,ya=32,za=ra,Aa=sa,Ba=ta,Z=64,Ca=32,Da=64,Ea=32,Fa=64;a.lowlevel={crypto_core_hsalsa20:u,crypto_stream_xor:z,crypto_stream:y,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:x,crypto_onetimeauth:B,crypto_onetimeauth_verify:C,crypto_verify_16:p,crypto_verify_32:q,crypto_secretbox:D,crypto_secretbox_open:E,crypto_scalarmult:S,crypto_scalarmult_base:T,crypto_box_beforenm:V,crypto_box_afternm:W,crypto_box:aa,crypto_box_open:ba,crypto_box_keypair:U,crypto_hash:Y,crypto_sign:na,crypto_sign_keypair:ja,crypto_sign_open:pa,crypto_secretbox_KEYBYTES:qa,crypto_secretbox_NONCEBYTES:ra,crypto_secretbox_ZEROBYTES:sa,crypto_secretbox_BOXZEROBYTES:ta,crypto_scalarmult_BYTES:ua,crypto_scalarmult_SCALARBYTES:va,crypto_box_PUBLICKEYBYTES:wa,crypto_box_SECRETKEYBYTES:xa,crypto_box_BEFORENMBYTES:ya,crypto_box_NONCEBYTES:za,crypto_box_ZEROBYTES:Aa,crypto_box_BOXZEROBYTES:Ba,crypto_sign_BYTES:Z,crypto_sign_PUBLICKEYBYTES:Ca,crypto_sign_SECRETKEYBYTES:Da,crypto_sign_SEEDBYTES:Ea,crypto_hash_BYTES:Fa,gf:b,D:i,L:ka,pack25519:I,unpack25519:L,M:O,A:M,S:P,Z:N,pow2523:R,add:ea,set25519:F,modL:la,scalarmult:ha,scalarbase:ia};function Ga(a,b){if(a.length!==qa)throw new Error("bad key size");if(b.length!==ra)throw new Error("bad nonce size")}function Ha(a,b){if(a.length!==wa)throw new Error("bad public key size");if(b.length!==xa)throw new Error("bad secret key size")}function $(){for(var a=0;a<arguments.length;a++)if(!(arguments[a]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ia(a){for(var b=0;b<a.length;b++)a[b]=0}a.randomBytes=function(a){var b=new Uint8Array(a);c(b,a);return b};a.secretbox=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(sa+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+sa]=a[f];D(e,d,d.length,b,c);return e.subarray(ta)};a.secretbox.open=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(ta+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+ta]=a[f];if(d.length<32)return null;return E(e,d,d.length,b,c)!==0?null:e.subarray(sa)};a.secretbox.keyLength=qa;a.secretbox.nonceLength=ra;a.secretbox.overheadLength=ta;a.scalarMult=function(a,b){$(a,b);if(a.length!==va)throw new Error("bad n size");if(b.length!==ua)throw new Error("bad p size");var c=new Uint8Array(ua);S(c,a,b);return c};a.scalarMult.base=function(a){$(a);if(a.length!==va)throw new Error("bad n size");var b=new Uint8Array(ua);T(b,a);return b};a.scalarMult.scalarLength=va;a.scalarMult.groupElementLength=ua;a.box=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox(b,c,d)};a.box.before=function(a,b){$(a,b);Ha(a,b);var c=new Uint8Array(ya);V(c,a,b);return c};a.box.after=a.secretbox;a.box.open=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox.open(b,c,d)};a.box.open.after=a.secretbox.open;a.box.keyPair=function(){var a=new Uint8Array(wa),b=new Uint8Array(xa);U(a,b);return{publicKey:a,secretKey:b}};a.box.keyPair.fromSecretKey=function(a){$(a);if(a.length!==xa)throw new Error("bad secret key size");var b=new Uint8Array(wa);T(b,a);return{publicKey:b,secretKey:new Uint8Array(a)}};a.box.publicKeyLength=wa;a.box.secretKeyLength=xa;a.box.sharedKeyLength=ya;a.box.nonceLength=za;a.box.overheadLength=a.secretbox.overheadLength;a.sign=function(a,b){$(a,b);if(b.length!==Da)throw new Error("bad secret key size");var c=new Uint8Array(Z+a.length);na(c,a,a.length,b);return c};a.sign.open=function(a,b){$(a,b);if(b.length!==Ca)throw new Error("bad public key size");var c=new Uint8Array(a.length);a=pa(c,a,a.length,b);if(a<0)return null;b=new Uint8Array(a);for(var a=0;a<b.length;a++)b[a]=c[a];return b};a.sign.detached=function(b,c){b=a.sign(b,c);c=new Uint8Array(Z);for(var d=0;d<c.length;d++)c[d]=b[d];return c};a.sign.detached.verify=function(a,b,c){$(a,b,c);if(b.length!==Z)throw new Error("bad signature size");if(c.length!==Ca)throw new Error("bad public key size");var d=new Uint8Array(Z+a.length),e=new Uint8Array(Z+a.length),f;for(f=0;f<Z;f++)d[f]=b[f];for(f=0;f<a.length;f++)d[f+Z]=a[f];return pa(e,d,d.length,c)>=0};a.sign.keyPair=function(){var a=new Uint8Array(Ca),b=new Uint8Array(Da);ja(a,b);return{publicKey:a,secretKey:b}};a.sign.keyPair.fromSecretKey=function(a){$(a);if(a.length!==Da)throw new Error("bad secret key size");var b=new Uint8Array(Ca);for(var c=0;c<b.length;c++)b[c]=a[32+c];return{publicKey:b,secretKey:new Uint8Array(a)}};a.sign.keyPair.fromSeed=function(a){$(a);if(a.length!==Ea)throw new Error("bad seed size");var b=new Uint8Array(Ca),c=new Uint8Array(Da);for(var d=0;d<32;d++)c[d]=a[d];ja(b,c,!0);return{publicKey:b,secretKey:c}};a.sign.publicKeyLength=Ca;a.sign.secretKeyLength=Da;a.sign.seedLength=Ea;a.sign.signatureLength=Z;a.hash=function(a){$(a);var b=new Uint8Array(Fa);Y(b,a,a.length);return b};a.hash.hashLength=Fa;a.verify=function(a,b){$(a,b);if(a.length===0||b.length===0)return!1;return a.length!==b.length?!1:o(a,0,b,0,a.length)===0?!0:!1};a.setPRNG=function(a){c=a};(function(){var b=typeof self!=="undefined"?self.crypto||self.msCrypto:null;if(b&&b.getRandomValues){var c=65536;a.setPRNG(function(a,d){var e,f=new Uint8Array(d);for(e=0;e<d;e+=c)b.getRandomValues(f.subarray(e,e+Math.min(d-e,c)));for(e=0;e<d;e++)a[e]=f[e];Ia(f)})}})()})(typeof g!=="undefined"&&g.exports?g.exports:self.nacl=self.nacl||{})}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);/*FB_PKG_DELIM*/
__d("MAWGetCurrentUserDeviceInfo.bs",["MAWBackendBridge.bs"],(function(a,b,c,d,e,f){"use strict";a=b("MAWBackendBridge.bs").getCurrentUserDeviceInfo(void 0).sendAndReceive;f.getCurrentUserDeviceInfo=a}),null);
__d("MAWGetCurrentUserDeviceInfo.re",["MAWGetCurrentUserDeviceInfo.bs"],(function(a,b,c,d,e,f){a=b("MAWGetCurrentUserDeviceInfo.bs").getCurrentUserDeviceInfo;f.getCurrentUserDeviceInfo=a}),null);
__d("QRMode",[],(function(a,b,c,d,e,f){b={modeBits:1,charCountLengths:[10,12,14]};c={modeBits:2,charCountLengths:[9,11,13]};d={modeBits:4,charCountLengths:[8,16,16]};e={modeBits:8,charCountLengths:[8,10,12]};var g={modeBits:7,charCountLengths:[0,0,0]};function a(a,b){return b.charCountLengths[Math.floor((a+7)/17)]}f.NUMERIC_MODE=b;f.ALPHANUMERIC_MODE=c;f.BYTE_MODE=d;f.KANJI_MODE=e;f.ECI_MODE=g;f.numCharCountBits=a}),66);
__d("QRCodeDataEncoding",["invariant","QRMode"],(function(a,b,c,d,e,f,g,h){function a(a){var b=a.mode,c=a.segment,e=a.version,f=a.dataBitsUsed;a=a.dataCapacity;var g=[];i(b.modeBits,4,g);i(c.byteLength,d("QRMode").numCharCountBits(e,b),g);for(var e=c.bitData,b=Array.isArray(e),c=0,e=b?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(b){if(c>=e.length)break;j=e[c++]}else{c=e.next();if(c.done)break;j=c.value}j=j;g.push(j)}g.length===f||h(0,51888);i(0,Math.min(4,a-g.length),g);i(0,(8-g.length%8)%8,g);g.length%8===0||h(0,51887);for(var j=236;g.length<a;j^=236^17)i(j,8,g);c=g.length/8;b=new Array(c).fill(0);for(var e=0;e<g.length;e++){f=g[e];b[e>>>3]|=f<<7-(e&7)}return b}function i(a,b,c){for(var b=b-1;b>=0;b--)c.push(a>>>b&1)}function b(a,b){return(a>>>b&1)!==0}g.encodeQRData=a;g.appendBits=i;g.getBit=b}),98);
__d("QRErrorCorrection",["invariant"],(function(a,b,c,d,e,f,g,h){c={LOW:{index:0,formatBits:1},MEDIUM:{index:1,formatBits:0},QUARTILE:{index:2,formatBits:3},HIGH:{index:3,formatBits:2}};function a(a){var b=[];for(var c=0;c<a-1;c++)b.push(0);b.push(1);c=1;for(var d=0;d<a;d++){for(var e=0;e<b.length;e++)b[e]=i(b[e],c),e+1<b.length&&(b[e]^=b[e+1]);c=i(c,2)}return b}function i(a,b){var c=0;for(var d=7;d>=0;d--)c=c<<1^(c>>>7)*285,c^=(b>>>d&1)*a;c>>>8===0||h(0,51884);return c}function b(a,b){var c=new Array(b.length).fill(0);for(var d=0;d<a.length;d++){var e=a[d];e=e^c.shift();c.push(0);for(var f=0;f<b.length;f++){var g=b[f];c[f]^=i(g,e)}}return c}g.ErrorCorrectionLevels=c;g.galoisComputeDivisor=a;g.galoisMultiply=i;g.galoisComputeRemainder=b}),98);
__d("QRGeneratorConstants",[],(function(a,b,c,d,e,f){a=40;b=1;c=3;d=3;e=40;var g=10,h=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],i=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];f.MAX_VERSION=a;f.MIN_VERSION=b;f.PENALTY_N1=c;f.PENALTY_N2=d;f.PENALTY_N3=e;f.PENALTY_N4=g;f.ECC_CODEWORDS_PER_BLOCK=h;f.NUM_ECC_BLOCKS=i}),66);
__d("QRUtils",["QRGeneratorConstants"],(function(a,b,c,d,e,f,g){function a(a,b){return Math.floor(h(a)/8)-d("QRGeneratorConstants").ECC_CODEWORDS_PER_BLOCK[b.index][a]*d("QRGeneratorConstants").NUM_ECC_BLOCKS[b.index][a]}function h(a){var b=(16*a+128)*a+64;if(a>=2){var c=Math.floor(a/7)+2;b-=(25*c-10)*c-55;a>=7&&(b-=36)}return b}g.getNumDataCodewords=a;g.getNumRawDataBlocks=h}),98);
__d("QRGrid",["invariant","QRCodeDataEncoding","QRErrorCorrection","QRGeneratorConstants","QRUtils"],(function(a,b,c,d,e,f,g,h){function a(a){var b=a.version,c=a.ecl;a=a.data;var d=b*4+17,e=[],f=[],g=new Array(d).fill(!1);for(var h=0;h<d;h++)e.push([].concat(g)),f.push([].concat(g));m(b,c,e,f);h=l(a,c,b);k(h,e,f);g=i(c,e,f);v(g,e,f);o(g,c,e,f);return e}function i(a,b,c){var d=0,e=Infinity;for(var f=0;f<8;f++){v(f,b,c);o(f,a,b,c);var g=x(b);g<e&&(d=f,e=g);v(f,b,c)}return d}function j(a,b){a>>>b===0||h(0,52584,b)}function k(a,b,c){var e=0,f=b.length;for(var g=f-1;g>=1;g-=2){g===6&&(g=5);for(var i=0;i<f;i++)for(var j=0;j<2;j++){var k=g-j,l=(g+1&2)===0;l=l?f-1-i:i;!c[l][k]&&e<a.length*8&&(b[l][k]=d("QRCodeDataEncoding").getBit(a[e>>>3],7-(e&7)),e++)}}e===a.length*8||h(0,51937)}function l(a,b,c){var e=d("QRGeneratorConstants").NUM_ECC_BLOCKS[b.index][c];b=d("QRGeneratorConstants").ECC_CODEWORDS_PER_BLOCK[b.index][c];c=Math.floor(d("QRUtils").getNumRawDataBlocks(c)/8);var f=e-c%e;c=Math.floor(c/e);var g=[],h=d("QRErrorCorrection").galoisComputeDivisor(b);for(var i=0,j=0;i<e;i++){var k=a.slice(j,j+c-b+(i<f?0:1));j+=k.length;var l=d("QRErrorCorrection").galoisComputeRemainder(k,h);i<f&&k.push(0);g.push([].concat(k,l))}k=[];for(var l=0;l<g[0].length;l++)for(var a=0;a<g.length;a++)(l!==c-b||a>=f)&&k.push(g[a][l]);return k}function m(a,b,c,d){r(c,d),s(c,d),p(a,c,d),o(0,b,c,d),n(a,c,d)}function n(a,b,c){if(a<7)return;var e=a;for(var f=0;f<12;f++)e=e<<1^(e>>>11)*7973;f=a<<12|e;j(f,18);for(var a=0;a<18;a++){e=d("QRCodeDataEncoding").getBit(f,a);var g=b.length-11+a%3,h=Math.floor(a/3);u(g,h,e,b,c);u(h,g,e,b,c)}}function o(a,b,c,e){b=b.formatBits<<3|a;a=c.length;var f=b;for(var g=0;g<10;g++)f=f<<1^(f>>>9)*1335;g=(b<<10|f)^21522;j(g,15);for(var b=0;b<=5;b++)u(8,b,d("QRCodeDataEncoding").getBit(g,b),c,e);u(8,7,d("QRCodeDataEncoding").getBit(g,6),c,e);u(8,8,d("QRCodeDataEncoding").getBit(g,7),c,e);u(7,8,d("QRCodeDataEncoding").getBit(g,8),c,e);for(var f=9;f<15;f++)u(14-f,8,d("QRCodeDataEncoding").getBit(g,f),c,e);for(var b=0;b<8;b++)u(a-1-b,8,d("QRCodeDataEncoding").getBit(g,b),c,e);for(var f=8;f<15;f++)u(8,a-15+f,d("QRCodeDataEncoding").getBit(g,f),c,e);u(8,a-8,!0,c,e)}function p(a,b,c){a=w(b.length,a);var d=a.length;for(var e=0;e<d;e++)for(var f=0;f<d;f++)e===0&&f===0||e===0&&f===d-1||e===d-1&&f===0||q(a[e],a[f],b,c)}function q(a,b,c,d){for(var e=-2;e<=2;e++)for(var f=-2;f<=2;f++){var g=Math.max(Math.abs(f),Math.abs(e))!==1;u(a+f,b+e,g,c,d)}}function r(a,b){for(var c=0;c<a.length;c++){var d=c%2===0;u(6,c,d,a,b);u(c,6,d,a,b)}}function s(a,b){var c=a.length;t(3,3,a,b);t(c-4,3,a,b);t(3,c-4,a,b)}function t(a,b,c,d){for(var e=-4;e<=4;e++)for(var f=-4;f<=4;f++){var g=Math.max(Math.abs(f),Math.abs(e)),h=a+f,i=b+e;if(0<=h&&h<c.length&&0<=i&&i<c.length){g=g!==2&&g!==4;u(h,i,g,c,d)}}}function u(a,b,c,d,e){d[b][a]=c,e[b][a]=!0}function v(a,b,c){a>=0&&a<=7||h(0,51938);for(var d=0;d<b.length;d++)for(var e=0;e<b.length;e++){var f=!1;switch(a){case 0:f=(e+d)%2===0;break;case 1:f=d%2===0;break;case 2:f=e%3===0;break;case 3:f=(e+d)%3===0;break;case 4:f=(Math.floor(e/3)+Math.floor(d/2))%2===0;break;case 5:f=e*d%2+e*d%3===0;break;case 6:f=(e*d%2+e*d%3)%2===0;break;case 7:f=((e+d)%2+e*d%3)%2===0;break}!c[d][e]&&f&&(b[d][e]=!b[d][e])}}function w(a,b){if(b===1)return[];else{var c=Math.floor(b/7)+2;b=b===32?26:Math.ceil((b*4+4)/(c*2-2))*2;var d=[6];for(var a=a-7;d.length<c;a-=b)d.splice(1,0,a);return d}}function x(a){var b=a.length,c=0;for(var e=0;e<b;e++){var f=!1,g=0,h=[0,0,0,0,0,0,0];for(var i=0;i<b;i++)a[e][i]===f?(g++,g===5?c+=d("QRGeneratorConstants").PENALTY_N1:g>5&&c++):(y(b,g,h),f||(c+=z(h)*d("QRGeneratorConstants").PENALTY_N3),f=a[e][i],g=1);c+=A(b,f,g,h)*d("QRGeneratorConstants").PENALTY_N3}for(var i=0;i<b;i++){f=!1;g=0;h=[0,0,0,0,0,0,0];for(var e=0;e<b;e++)a[e][i]===f?(g++,g===5?c+=d("QRGeneratorConstants").PENALTY_N1:g>5&&c++):(y(b,g,h),f||(c+=z(h)*d("QRGeneratorConstants").PENALTY_N3),f=a[e][i],g=1);c+=A(b,f,g,h)*d("QRGeneratorConstants").PENALTY_N3}for(var e=0;e<b-1;e++)for(var f=0;f<b-1;f++){g=a[e][f];g===a[e][f+1]&&g===a[e+1][f]&&g===a[e+1][f+1]&&(c+=d("QRGeneratorConstants").PENALTY_N2)}h=0;for(var i=a,g=Array.isArray(i),f=0,i=g?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(f>=i.length)break;e=i[f++]}else{f=i.next();if(f.done)break;e=f.value}a=e;h=a.reduce(function(a,b){return a+(b?1:0)},h)}e=b*b;a=Math.ceil(Math.abs(h*20-e*10)/e)-1;c+=a*d("QRGeneratorConstants").PENALTY_N4;return c}function y(a,b,c){b=b;c[0]===0&&(b+=a);c.pop();c.unshift(b)}function z(a){var b=a[1],c=b>0&&a[2]===b&&a[3]===b*3&&a[4]===b&&a[5]===b;return(c&&a[0]>=b*4&&a[6]>=b?1:0)+(c&&a[6]>=b*4&&a[0]>=b?1:0)}function A(a,b,c,d){c=c;b&&(y(a,c,d),c=0);c+=a;y(a,c,d);return z(d)}g.makeQRGrid=a}),98);
__d("QRRenderer",[],(function(a,b,c,d,e,f){var g=7;function a(a,b){var c=b.blockConfig,d=b.finderConfig;d=d===void 0?{style:"square"}:d;b=b.imageConfig;var e=b.icon;e=e===void 0?null:e;var f=b.size,g=b.background;g=g===void 0?"#fff":g;var l=b.foreground;l=l===void 0?"#000":l;b=b.mimeType;b=b===void 0?"image/png":b;var m=document.createElement("canvas"),n=m.getContext("2d");m.width=f;m.height=f;n.fillStyle=j(g,n);n.fillRect(0,0,f,f);g=a.length;f=f/g;n.fillStyle=j(l,n);k(d,f,n);l=function(a){return!1};if(e!=null&&typeof (e==null?void 0:e.iconDrawFn)==="function"){d=e.iconDrawFn;var o=e.iconOriginalSizePx,p=e.iconScale;e=e.iconBorderOffset;e=e===void 0?0:e;var q=n.canvas.width;p=Math.sqrt(p);var r=q*p;p=g*p;q=Math.floor((q-r)/2);d(n,{x:q,y:q},r/o);var s=Math.floor((g-p)/2)-e,t=Math.floor((g+p)/2)+e;l=function(a){var b=a.x;a=a.y;return b<t&&b>s&&a>s&&a<t}}for(var d=0;d<g;d++)for(var q=0;q<g;q++)a[d][q]&&!h({x:q,y:d},g)&&!l({x:q,y:d})&&i({x:q,y:d},f,c,n);return m.toDataURL(b)}function h(a,b){var c=a.x;a=a.y;return c<=g&&a<=g||c>=b-g&&a<=g||a>=b-g&&c<=g}function i(a,b,c,d){c===void 0&&(c={style:"square"});var e=a.x*b;a=a.y*b;switch(c.style){case"circle":c=b/2.2;return o({x:e,y:a},c,d);case"square":return d.fillRect(e,a,b,b)}}function j(a,b){if(typeof a==="string")return a;b=b.createLinearGradient(a.start.x,a.start.y,a.end.x,a.end.y);for(var a=a.colorStops,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.addColorStop(e.offset,e.color)}return b}function k(a,b,c){var d=b*g,e=c.canvas.width;e=[{x:0,y:0},{x:0,y:e-d},{x:e-d,y:0}];e.forEach(function(e){l({origin:e,size:d,finderConfig:a,blockSize:b,context:c})})}function l(a){var b=a.origin,c=a.size,d=a.finderConfig,e=a.blockSize;a=a.context;switch(d.style){case"rounded":return n({origin:b,size:c,radius:d.radius,blockSize:e,context:a});case"square":return m({origin:b,size:c,blockSize:e,context:a})}}function m(a){var b=a.origin,c=a.size,d=a.blockSize;a=a.context;q({origin:b,size:c,outerRadius:0,innerRadius:0,strokeWidth:d,context:a});d=d*3;var e=d/2;a.fillRect(b.x+c/2-e,b.y+c/2-e,d,d)}function n(a){var b=a.origin,c=a.size,d=a.radius,e=a.blockSize;a=a.context;var f=d/2;q({origin:b,size:c,outerRadius:d,innerRadius:f,strokeWidth:e,context:a});d=e*3/2;o({x:b.x+c/2-d,y:b.y+c/2-d},d,a)}function o(a,b,c){var d=a.x;a=a.y;var e=d+b,f=a+b;c.beginPath();c.arc(e,f,b*p(d*a),0,2*Math.PI);c.closePath();c.fill()}function p(a){var b=.25;a=Math.sin(a)*1e4;a-=Math.floor(a);return a*b+(1-b)}function q(a){var b=a.origin,c=a.size,d=a.outerRadius,e=a.innerRadius,f=a.strokeWidth;a=a.context;var g=c-f*2;a.beginPath();r({origin:b,size:c,radius:d,context:a});r({origin:{x:b.x+f,y:b.y+f},size:g,radius:e,context:a});a.fill("evenodd");a.closePath()}function r(a){var b=a.origin,c=b.x;b=b.y;var d=a.size,e=a.radius;a=a.context;a.moveTo(c+e,b);a.lineTo(c+d-e,b);a.quadraticCurveTo(c+d,b,c+d,b+e);a.lineTo(c+d,b+d-e);a.quadraticCurveTo(c+d,b+d,c+d-e,b+d);a.lineTo(c+e,b+d);a.quadraticCurveTo(c,b+d,c,b+d-e);a.lineTo(c,b+e);a.quadraticCurveTo(c,b,c+e,b)}f.render=a}),66);
__d("QRSegment",["invariant","QRCodeDataEncoding","QRGeneratorConstants","QRMode","QRUtils"],(function(a,b,c,d,e,f,g,h){function a(a){a=i(a);var b=[];for(var c=a,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;d("QRCodeDataEncoding").appendBits(g,8,b)}return{byteLength:a.length,bitData:b}}function i(a){a=encodeURI(a);var b=[];for(var c=0;c<a.length;c++)a.charAt(c)!="%"?b.push(a.charCodeAt(c)):(b.push(parseInt(a.substr(c+1,2),16)),c+=2);return b}function b(a,b,c,e){e===void 0&&(e=d("QRGeneratorConstants").MIN_VERSION);e=e;var f=0,g=0;while(!0){g=d("QRUtils").getNumDataCodewords(e,b)*8;var i=j(e,c,a);if(i<=g){f=i;break}e<d("QRGeneratorConstants").MAX_VERSION||h(0,51864);e++}return{version:e,dataBitsUsed:f,dataCapacity:g}}function j(a,b,c){a=d("QRMode").numCharCountBits(a,b);return c.byteLength>=1<<a?Infinity:4+a+c.bitData.length}g.makeSegment=a;g.toUtf8ByteArray=i;g.getMetadataForSegment=b;g.getTotalBitsForSegemnt=j}),98);
__d("QRGenerator",["QRCodeDataEncoding","QRErrorCorrection","QRGrid","QRMode","QRRenderer","QRSegment"],(function(a,b,c,d,e,f,g){function a(a){var b=a.renderOptions;a=babelHelpers.objectWithoutPropertiesLoose(a,["renderOptions"]);a=h(a);return d("QRRenderer").render(a,b)}function h(a){var b=a.value,c=a.mode;c=c===void 0?d("QRMode").BYTE_MODE:c;var e=a.version;a=a.errorCorrectionLevel;a=a===void 0?"LOW":a;b=d("QRSegment").makeSegment(b);a=d("QRErrorCorrection").ErrorCorrectionLevels[a];e=d("QRSegment").getMetadataForSegment(b,a,c,e);var f=e.version,g=e.dataBitsUsed;e=e.dataCapacity;c=d("QRCodeDataEncoding").encodeQRData({mode:c,version:f,segment:b,dataBitsUsed:g,dataCapacity:e});return d("QRGrid").makeQRGrid({version:f,ecl:a,data:c})}g.generateDataUri=a;g.generateQRGrid=h}),98);
__d("WAArmadilloQRCode.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};a.internalSpec={integral:[1,d("WAProtoConst").TYPES.MESSAGE,c],ancillary:[2,d("WAProtoConst").TYPES.MESSAGE,b]};b.internalSpec={};c.internalSpec={messageHistorySync:[1,d("WAProtoConst").TYPES.MESSAGE,f],encryptedBackup:[2,d("WAProtoConst").TYPES.MESSAGE,e],__oneofs__:{userflow:["messageHistorySync","encryptedBackup"]}};e.internalSpec={identityKey:[1,d("WAProtoConst").TYPES.BYTES],secretKey:[2,d("WAProtoConst").TYPES.BYTES]};f.internalSpec={identityKey:[1,d("WAProtoConst").TYPES.BYTES],secretKey:[2,d("WAProtoConst").TYPES.BYTES]};g.QRCodePayloadSpec=a;g.QRCodePayload$AncillarySpec=b;g.QRCodePayload$IntegralSpec=c;g.QRCodePayload$EncryptedBackupSpec=e;g.QRCodePayload$MessageHistorySyncSpec=f}),98);
__d("MWChatQRCodeImage.react",["CometGlimmer.react","CometImage.react","FBLogger","MAWGetCurrentUserDeviceInfo.re","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","QRGenerator","WAArmadilloQRCode.pb","base64-js","encodeProtobuf","react","regeneratorRuntime","unrecoverableViolation","useCurrentDisplayMode","usePromiseResult"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={glimmer:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"fwz9ppfv",width:"fwkrndq2"}};function j(a){var e,f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.prev=0;i.next=3;return b("regeneratorRuntime").awrap(d("MAWGetCurrentUserDeviceInfo.re").getCurrentUserDeviceInfo());case 3:e=i.sent;if(!(e.identityKey==null)){i.next=6;break}throw c("unrecoverableViolation")("Device info identity key should not be null","messenger_e2ee_web");case 6:f=d("encodeProtobuf").encodeProtobuf(d("WAArmadilloQRCode.pb").QRCodePayloadSpec,{integral:{encryptedBackup:{identityKey:e.identityKey,secretKey:null}}});g=d("base64-js").fromByteArray(f.readByteArray());h=a?"#fff":"#000";return i.abrupt("return",d("QRGenerator").generateDataUri({errorCorrectionLevel:"MEDIUM",renderOptions:{blockConfig:{style:"circle"},finderConfig:{radius:10,style:"rounded"},imageConfig:{background:"rgba(0,0,0,0)",foreground:h,icon:{iconBorderOffset:0,iconDrawFn:k,iconOriginalSizePx:36,iconScale:.1},size:240}},value:g}));case 12:i.prev=12,i.t0=i["catch"](0),c("FBLogger")("messenger_e2ee_web").catching(i.t0).mustfixThrow("Error generating QR code image URI");case 15:case"end":return i.stop()}},null,this,[[0,12]])}function k(a,b,c){var d=b.x;b=b.y;a.beginPath();a.moveTo(d+6.74994*c,b+17.9438*c);a.bezierCurveTo(d+6.74994*c,b+11.6734*c,d+11.6625*c,b+7.03125*c,d+17.9999*c,b+7.03125*c);a.bezierCurveTo(d+24.3374*c,b+7.03125*c,d+29.2499*c,b+11.6734*c,d+29.2499*c,b+17.9438*c);a.bezierCurveTo(d+29.2499*c,b+24.2141*c,d+24.3374*c,b+28.8563*c,d+17.9999*c,b+28.8563*c);a.bezierCurveTo(d+16.8616*c,b+28.8563*c,d+15.7695*c,b+28.7059*c,d+14.7434*c,b+28.4237*c);a.bezierCurveTo(d+14.5439*c,b+28.3688*c,d+14.3318*c,b+28.3844*c,d+14.1425*c,b+28.468*c);a.lineTo(d+11.9096*c,b+29.4537*c);a.bezierCurveTo(d+11.3255*c,b+29.7115*c,d+10.6661*c,b+29.2961*c,d+10.6465*c,b+28.6579*c);a.lineTo(d+10.5853*c,b+26.6565*c);a.bezierCurveTo(d+10.5778*c,b+26.4101*c,d+10.4668*c,b+26.1795*c,d+10.2831*c,b+26.0152*c);a.bezierCurveTo(d+8.09409*c,b+24.0576*c,d+6.74994*c,b+21.2235*c,d+6.74994*c,b+17.9438*c);a.closePath();a.moveTo(d+14.5491*c,b+15.8921*c);a.lineTo(d+11.2444*c,b+21.135*c);a.bezierCurveTo(d+10.9272*c,b+21.6382*c,d+11.5457*c,b+22.2052*c,d+12.0195*c,b+21.8456*c);a.lineTo(d+15.5693*c,b+19.1516*c);a.bezierCurveTo(d+15.8094*c,b+18.9694*c,d+16.1412*c,b+18.9684*c,d+16.3824*c,b+19.1492*c);a.lineTo(d+19.0108*c,b+21.1206*c);a.bezierCurveTo(d+19.7995*c,b+21.7122*c,d+20.9252*c,b+21.5044*c,d+21.4509*c,b+20.6704*c);a.lineTo(d+24.7556*c,b+15.4274*c);a.bezierCurveTo(d+25.0727*c,b+14.9242*c,d+24.4542*c,b+14.3572*c,d+23.9804*c,b+14.7168*c);a.lineTo(d+20.4306*c,b+17.4108*c);a.bezierCurveTo(d+20.1905*c,b+17.5931*c,d+19.8587*c,b+17.594*c,d+19.6175*c,b+17.4131*c);a.lineTo(d+16.9891*c,b+15.4419*c);a.bezierCurveTo(d+16.2004*c,b+14.8503*c,d+15.0747*c,b+15.058*c,d+14.5491*c,b+15.8921*c);a.closePath();a.fill("evenodd");a.restore();a.restore()}function a(){var a=c("useCurrentDisplayMode")(),b=a==="dark";a=c("usePromiseResult")(function(){return j(b)},[]);var e=a[0];a=a[1];if(a!=null||e==null){c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"qr_code_is_not_shown");return h.jsx(c("CometGlimmer.react"),{index:0,xstyle:i.glimmer})}return h.jsx(c("CometImage.react"),{height:240,src:e,width:240})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEncryptedBackupsInitializeRestoreAfterAddDevice.bs",["LSAuthorityLevel.bs","MWEncryptedBackupsInitializeRestoreDeferred.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=b("useReStore")(),f=b("MWEncryptedBackupsInitializeRestoreDeferred.bs").useHook(c,d);return h.useCallback(function(c){b("bs_curry")._1(a,void 0);c=b("ReQL.bs").fromTableAscending(e.table("secure_encrypted_backups_client_state"));return b("ReQLSubscription.bs").subscribe(e,c,function(a){if(a===void 0)return b("bs_curry")._1(d,void 0);if(a.length!==1)return;a=a[0];if(b("bs_caml").i64_eq(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative))return b("bs_curry")._1(f,void 0)})},[e,a,f,d])}f.useHook=a}),null);
__d("MWEncryptedBackupsInitializeRestoreAfterAddDevice.re",["MWEncryptedBackupsInitializeRestoreAfterAddDevice.bs","bs_curry"],(function(a,b,c,d,e,f){a=function(a){a=b("bs_curry")._3(b("MWEncryptedBackupsInitializeRestoreAfterAddDevice.bs").useHook,a.onStart,a.onSuccess,a.onFailure);return a};f.useHook=a}),null);
__d("MWChatQRCodeScanStep.react",["fbt","ix","CometColumn.react","CometColumnItem.react","CometIcon.react","MWChatEncryptedBackupsDialogLayout.react","MWChatEncryptedBackupsQPLEvents","MWChatQRCodeEventEmitter","MWChatQRCodeImage.react","MWEncryptedBackupsInitializeRestoreAfterAddDevice.re","QPLUserFlow","TetraButton.react","TetraText.react","cometPushToast","fbicon","react","useLabyrinthLogging","useQplImpressionRef"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useEffect;function a(a){var b=a.actionsDirection,e=a.onClose,f=a.onScan;a=a.otherOptions;var g=c("useLabyrinthLogging")({}),l=g.QPLEndFail,m=g.QPLEndSuccess,n=d("MWEncryptedBackupsInitializeRestoreAfterAddDevice.re").useHook({onFailure:function(){l(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"restore_error"),e(),d("cometPushToast").cometPushErrorToast({message:h._(/*FBT_CALL*/"There was an error restoring your message history, please retry later."/*FBT_CALL*/)})},onStart:function(){f()},onSuccess:function(){m(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent),e(),d("cometPushToast").cometPushToast({icon:j.jsx(c("CometIcon.react"),{color:"white",icon:d("fbicon")._(i("492714"),20)}),message:h._(/*FBT_CALL*/"Messages synced"/*FBT_CALL*/)})}});k(function(){var a=d("MWChatQRCodeEventEmitter").subscribe(function(){c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{restore_type:"qr_code"}}),n()});return function(){a()}},[f,n]);g=c("useQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"qr_code_restore_screen");return j.jsx(c("MWChatEncryptedBackupsDialogLayout.react"),{actionsDirection:b,primaryAction:j.jsx(c("TetraButton.react"),babelHelpers["extends"]({},a,{testid:void 0,type:"secondary"})),ref:g,children:j.jsxs(c("CometColumn.react"),{align:"center",verticalAlign:"center",children:[j.jsx(c("CometColumnItem.react"),{paddingVertical:20,children:j.jsx(c("MWChatQRCodeImage.react"),{})}),j.jsx(c("CometColumnItem.react"),{paddingTop:20,children:j.jsx("div",{children:j.jsx(c("TetraText.react"),{align:"center",type:"entityHeaderHeadline2",children:h._(/*FBT_CALL*/"Scan this QR code on another device"/*FBT_CALL*/)})})}),j.jsx(c("CometColumnItem.react"),{paddingTop:20,children:j.jsx(c("TetraText.react"),{type:"body3",children:h._(/*FBT_CALL*/"Open Messenger on iOS or Android and go to {=m1} > {=m4} to begin scanning."/*FBT_CALL*/,[h._implicitParam("=m1",j.jsx("b",{children:h._(/*FBT_CALL*/"Settings"/*FBT_CALL*/)})),h._implicitParam("=m4",j.jsx("b",{children:h._(/*FBT_CALL*/"Add a New Device"/*FBT_CALL*/)}))])})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/ZMc_bSwzLKC/
 */
__d("ristretto255-0.1.1",["tweetnacl-1.0.3"],(function(a,b,c,d,e,f,g){var h=c("tweetnacl-1.0.3")();Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:function(a,b){return new Uint8Array(Array.prototype.slice.call(this,a,b))}});c={};var i=h.lowlevel,j=i.gf([1]);function k(){return[i.gf(),i.gf(),i.gf(),i.gf()]}var l=new Uint8Array([226,242,174,10,106,188,78,113,168,132,169,97,197,0,81,95,88,227,11,106,165,130,221,141,182,166,89,69,224,141,45,118]),m=new Float64Array([235,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function n(a,b,c){var d=new Float64Array(64);for(var e=0;e<32;e++)for(var f=0;f<32;f++)d[e+f]+=b[e]*c[f];i.modL(a,d)}function o(a,b){n(a,b,b)}function p(a,b){for(var c=0;c<32;c++)a[c]=b[c];for(var c=251;c>=0;c--)o(a,a),(m[c>>3]>>(c&7)&1)!==0&&n(a,a,b)}var q=i.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),r=i.gf([11803,18811,63136,32407,21693,7032,36364,44957,53757,12789,64713,3900,18604,11139,12735,14185]),s=i.gf([16618,32861,64938,39368,29374,23105,5655,40239,55360,65025,31633,5826,64674,53167,35077,30828]),t=i.gf([49526,37983,2497,57980,13583,52574,41272,11393,57316,48752,43997,39316,57559,45747,29352,656]),u=i.gf([19744,17645,23210,12717,6553,45086,18988,53918,20203,21147,54063,19676,8769,63084,45946,22888]);function v(a){var b=new Uint8Array(32);i.pack25519(b,a);a=1;for(var c=0;c<32;c++)a&=b[c]===0;return a}function w(a,b,c){var d;c=-c;for(var e=0;e<16;e++)d=a[e]^b[e],d&=c,a[e]^=d}function x(a){var b=new Uint8Array(32);i.pack25519(b,a);return b[0]&1}function y(a,b){i.Z(a,i.gf(),b)}function z(a,b,c){var d=i.gf();y(d,b);i.set25519(a,b);w(a,d,c)}function A(a,b){z(a,b,x(b))}function B(a,b,c){var d=i.gf(),e=i.gf(),f=i.gf(),g=i.gf(),h=i.gf(),j=i.gf();i.S(d,c);i.M(d,d,c);i.S(a,d);i.M(a,a,c);i.M(a,a,b);i.pow2523(a,a);i.M(a,a,d);i.M(a,a,b);i.S(e,a);i.M(e,e,c);i.Z(f,e,b);i.A(g,e,b);i.M(h,b,q);i.A(h,e,h);d=v(f);c=v(g);b=v(h);i.M(j,a,q);w(a,j,c|b);A(a,a);return d|c}function C(a){var b=i.gf(),c=i.gf(),d=i.gf(),e=i.gf(),f=i.gf(),g=i.gf(),h=i.gf(),k=i.gf(),l=i.gf(),m=i.gf(),n=i.gf(),o=i.gf(),p=i.gf(),r=i.gf(),t=i.gf(),u=i.gf(),v=i.gf(),y=0,C=new Uint8Array(32);i.A(m,a[2],a[1]);i.Z(v,a[2],a[1]);i.M(m,m,v);i.M(n,a[0],a[1]);i.S(o,n);i.M(o,m,o);B(f,j,o);i.M(b,f,m);i.M(c,f,n);i.M(u,b,c);i.M(u,u,a[3]);i.M(g,a[0],q);i.M(h,a[1],q);i.M(e,b,s);i.M(l,a[3],u);y=x(l);p=i.gf(a[0]);r=i.gf(a[1]);d=i.gf(c);w(p,h,y);w(r,g,y);w(d,e,y);i.M(t,p,u);z(r,r,x(t));i.Z(k,a[2],r);i.M(k,d,k);A(k,k);i.pack25519(C,k);return C}function D(a){var b=a[31]&127^127;for(var c=30;c>0;c--)b|=a[c]^255;b=(b|0>>>0)-1>>8;c=237-1-(a[0]|0>>>0)>>8;return 1-((b&c|a[0])&1|(a[31]&255)>>7)}function E(a,b){var c=i.gf(),d=i.gf(),e=i.gf(),f=i.gf(),g=i.gf(),h=i.gf(),k=i.gf(),l=i.gf(),m=i.gf(),n=i.gf();if(D(b)===0)return-1;i.unpack25519(e,b);i.S(f,e);i.set25519(g,j);i.Z(g,g,f);i.S(k,g);i.set25519(h,j);i.A(h,h,f);i.S(l,h);i.M(m,i.D,k);y(m,m);i.Z(m,m,l);i.M(n,m,l);i.set25519(d,j);b=B(c,d,n);i.M(a[0],c,h);i.M(a[1],c,a[0]);i.M(a[1],a[1],m);i.M(a[0],a[0],e);i.A(a[0],a[0],a[0]);A(a[0],a[0]);i.M(a[1],g,a[1]);i.set25519(a[2],j);i.M(a[3],a[0],a[1]);return-(1-b|x(a[3])|v(a[1]))}function F(a,b){var c=i.gf(),d=i.gf(),e=i.gf(),f=i.gf(),g=i.gf(),h=i.gf(),k=i.gf(),l=i.gf(),m=i.gf(),n=i.gf(),o=i.gf(),p=i.gf(),s=i.gf(),v=i.gf();i.set25519(e,j);i.S(f,b);i.M(f,q,f);i.A(m,f,e);i.M(m,m,t);i.set25519(c,j);y(c,c);i.A(g,f,i.D);i.M(n,f,i.D);i.Z(n,c,n);i.M(n,n,g);g=1-B(h,m,n);i.M(k,h,b);A(k,k);y(k,k);w(h,k,g);w(c,f,g);i.Z(d,f,e);i.M(d,d,c);i.M(d,d,u);i.Z(d,d,n);i.A(o,h,h);i.M(o,o,n);i.M(p,d,r);i.S(l,h);i.Z(s,e,l);i.A(v,e,l);i.M(a[0],o,v);i.M(a[1],s,p);i.M(a[2],p,v);i.M(a[3],o,s)}function G(a){var b=i.gf(),c=i.gf(),d=k(),e=k();i.unpack25519(b,a.slice(0,32));i.unpack25519(c,a.slice(32,64));F(d,b);F(e,c);i.add(d,e);return d}function a(a){var b=k();i.scalarbase(b,a);return C(b)}function b(a,b){var c=k(),d=k();if(E(c,b)!==0)throw new Error("Invalid argument");i.scalarmult(d,c,a);return C(d)}function d(a){var b=k();return E(b,a)===-1?!1:!0}function H(a,b){var c=k(),d=k();if(E(c,a)===-1)throw new Error("Invalid argument");if(E(d,b)===-1)throw new Error("Invalid argument");return[c,d]}function e(a,b){a=H(a,b);b=a[0];a=a[1];i.add(b,a);return C(b)}function I(a,b){var c=i.gf();y(c,b[3]);var d=i.gf();y(d,b[0]);d=[d,b[1],b[2],c];i.add(a,d)}function g(a,b){a=H(a,b);b=a[0];a=a[1];I(b,a);return C(b)}function J(){var a=h.randomBytes(64);return G(a)}function K(a){return C(G(a))}function L(){return C(J())}function M(){var a;new Uint8Array(32);var b=0;do{a=h.randomBytes(32);a[31]&=31;var c=32,d=1;do c--,b|=a[c]-i.L[c]>>8&d,d&=(a[c]^i.L[c])-1>>8;while(c!==0)}while(b===0);return a}function N(a){var b=new Uint8Array(32);p(b,a);return b}function O(a){var b=new Float64Array(64);for(var c=0;c<32;c++)b[c]=-a[c];c=new Uint8Array(32);i.modL(c,b);return c}function P(a,b){var c=new Float64Array(64);for(var d=0;d<32;d++)c[d]=a[d]+b[d];d=new Uint8Array(32);i.modL(d,c);return d}function Q(a,b){return P(a,O(b))}function R(a,b){var c=new Uint8Array(32);n(c,a,b);return c}c.scalarMultBase=a;c.scalarMult=b;c.isValid=d;c.add=e;c.sub=g;c.fromHash=K;c.getRandom=L;c.basePoint=l;c.scalar={};c.scalar.getRandom=M;c.scalar.invert=N;c.scalar.negate=O;c.scalar.add=P;c.scalar.sub=Q;c.scalar.mul=R;c.unsafe={};c.unsafe.point={};c.unsafe.point.toBytes=C;c.unsafe.point.fromBytes=E;c.unsafe.point.fromHash=G;c.unsafe.point.sub=I;c.unsafe.point.add=i.add;c.unsafe.point.scalarMultBase=i.scalarbase;c.unsafe.point.scalarMult=i.scalarmult;c.unsafe.point.getRandom=J;c.unsafe.point.alloc=k;c.unsafe.constants={};c.unsafe.constants.LSub2=m;c.unsafe.constants.sqrtm1=q;c.unsafe.constants.sqrtadm1=r;c.unsafe.constants.invsqrtamd=s;c.unsafe.constants.onemsqd=t;c.unsafe.constants.sqdmone=u;f.exports=c}),34);
__d("ristretto255",["ristretto255-0.1.1"],(function(a,b,c,d,e,f){e.exports=b("ristretto255-0.1.1")}),null);
__d("Ristretto255.bs",["ristretto255"],(function(a,b,c,d,e,f){"use strict";d=b("ristretto255").scalar;function a(a){return b("ristretto255").fromHash(a)}function c(a,c){return b("ristretto255").scalarMult(a,c)}f.scalar=d;f.fromHash=a;f.scalarMult=c}),null);
__d("WACryptoEd25519",["WATweetnacl"],(function(a,b,c,d,e,f,g){var h=null;function i(a){var b=h;h=[];try{return a()}finally{((a=h)!=null?a:[]).forEach(function(a){return void a.fill(0)});h=b}}function j(a,b){if(h==null)throw new Error("allocate called outside of active scope");return new a(b)}function a(a,b,c){d("WATweetnacl").lowlevel.crypto_hash(a,b,c)}function b(a,b){for(var c=0;c<64;++c)b[c]=a[c],a[c]=0;l(a,b);b.fill(0)}function c(a,b){var c=[k(),k(),k(),k()];d("WATweetnacl").lowlevel.scalarbase(c,b);Q(a,c)}function k(a){var b=j(Float64Array,16);if(a){if(a.length>16)throw new Error("Incorrect initialiser array provided to the fieldElement");for(var c=0;c<a.length;c++)b[c]=a[c]}return b}function l(a,b){d("WATweetnacl").lowlevel.modL(a,b)}var m=function(){return k([0])},n=function(){return k([1])},o=function(){return k([2])},p=function(){return k([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139])};function q(){return[k(),k(),k(),k()]}function r(){return[k(),k(),k(),k()]}function s(){return[k(),k(),k()]}function t(a,b){var c=0;b=b;while(b>0){var d=b%65536;a[c]=d;b=(b-d)/65536;c++}}function u(a,b){return S(a,b)?0:1}function v(a){var b=d("WATweetnacl").lowlevel.pack25519,c=j(Uint8Array,32);b(c,a);return c[0]&1}function w(a,b){var c=d("WATweetnacl").lowlevel.S,e=d("WATweetnacl").lowlevel.M,f=o(),g=k();c(g,b);e(a,f,g)}function x(a,b){var c=d("WATweetnacl").lowlevel.S,e=d("WATweetnacl").lowlevel.M,f=d("WATweetnacl").lowlevel.A,g=m(),h=n(),i=k(),j=k(),l=k(),o=k();t(g,486662);c(i,b);e(j,g,b);f(l,i,j);f(o,l,h);e(a,b,o)}function y(a,b,c){c===1&&a.set(b)}var z=new Uint8Array([176,160,14,74,39,27,238,196,120,228,47,173,6,24,67,47,167,215,251,61,153,0,77,43,11,223,193,79,128,36,131,43]);function A(a,b){var c=d("WATweetnacl").lowlevel.unpack25519,e=d("WATweetnacl").lowlevel.pow2523,f=d("WATweetnacl").lowlevel.M,g=d("WATweetnacl").lowlevel.S,h=k();c(h,z);c=k();e(c,b);e=k();f(e,b,c);c=k();g(c,e);g=k();f(g,e,h);y(e,g,1^u(c,b));a.set(e)}function B(a,b){var c=d("WATweetnacl").lowlevel.Z,e=d("WATweetnacl").lowlevel.A,f=d("WATweetnacl").lowlevel.M,g=n(),h=k(),i=k(),j=k();c(h,b,g);e(i,b,g);R(j,i);f(a,h,j)}function C(a,b){var c=d("WATweetnacl").lowlevel.Z,e=m();c(a,e,b)}function D(a,b){var c=d("WATweetnacl").lowlevel.M;c(a[0],b[0],b[3]);c(a[1],b[1],b[2]);c(a[2],b[2],b[3])}function E(a,b){var c=d("WATweetnacl").lowlevel.M;c(a[0],b[0],b[3]);c(a[1],b[1],b[2]);c(a[2],b[2],b[3]);c(a[3],b[0],b[1])}function F(a,b){var c=d("WATweetnacl").lowlevel.S,e=d("WATweetnacl").lowlevel.A,f=d("WATweetnacl").lowlevel.Z;c(a[0],b[0]);c(a[2],b[1]);w(a[3],b[2]);e(a[1],b[0],b[1]);b=k();c(b,a[1]);e(a[1],a[2],a[0]);f(a[2],a[2],a[0]);f(a[0],b,a[1]);f(a[3],a[3],a[2])}var G=new Uint8Array([6,126,69,255,170,4,110,204,130,26,125,75,209,211,161,197,126,79,252,3,220,8,123,210,187,6,160,96,244,237,38,15]);function H(a,b,c){var e=d("WATweetnacl").lowlevel.unpack25519,f=d("WATweetnacl").lowlevel.M,g=k();e(g,G);e=k();B(e,b);var h=k();x(h,b);var i=k();A(i,h);h=k();f(h,b,g);b=k();R(b,i);g=k();f(g,h,b);i=k();C(i,g);y(g,i,v(g)^c);a[0].set(g);a[1].set(e);a[2].set(n());f(a[3],a[0],a[1])}function I(a,b){a[0].set(b[0]),a[1].set(b[1]),a[2].set(b[2])}function J(a,b){var c=s();I(c,b);F(a,c)}function K(a,b){var c=r(),d=s();J(c,b);D(d,c);F(c,d);D(d,c);F(c,d);E(a,c)}function L(a){var b=d("WATweetnacl").lowlevel.S,c=d("WATweetnacl").lowlevel.M,e=d("WATweetnacl").lowlevel.pow2523,f=d("WATweetnacl").lowlevel.pack25519,g=k(),h=k(),i=k(),j=k(),l=k();e(g,a);b(h,g);b(i,h);c(j,i,a);c(l,j,a);e=new Uint8Array(32);f(e,l);return 1&e[31]}function M(a,b){C(a[0],b[0]),a[1].set(b[1]),a[2].set(b[2]),C(a[3],b[3])}function e(a,b){var c=q();b=T(c,b);if(b!==0)return-1;M(a,c);return 0}function N(a,b){var c=d("WATweetnacl").lowlevel.M,e=d("WATweetnacl").lowlevel.A;b=b;var f=n(),g=m();t(g,486662);var h=k();w(h,b);b=k();e(b,h,f);h=k();R(h,b);f=k();c(f,h,g);b=k();C(b,f);c=k();x(c,b);h=L(c);f=k([0]);y(f,g,h);c=k();e(c,b,f);g=k();C(g,c);y(c,g,h);a.set(c)}function O(a){var b=d("WATweetnacl").lowlevel.unpack25519;a=d("WATweetnacl").hash(a);var c=(a[31]&128)>>7;a[31]&=127;var e=k();b(e,a);b=k();P(b,e);a=q();H(a,b,c);e=q();K(e,a);return e}function P(a,b){return i(function(){return N(a,b)})}function f(a){return i(function(){return O(a)})}function Q(a,b){var c=k(),e=k(),f=k(),g=d("WATweetnacl").lowlevel.M,h=d("WATweetnacl").lowlevel.pack25519;R(f,b[2]);g(c,b[0],f);g(e,b[1],f);h(a,e);g=new Uint8Array(32);h(g,c);a[31]^=(g[0]&1)<<7}function R(a,b){var c=k();c.set(b);var e=d("WATweetnacl").lowlevel.M,f=d("WATweetnacl").lowlevel.S;for(var g=253;g>=0;--g)f(c,c),g!==2&&g!==4&&e(c,c,b);a.set(c)}function S(a,b){var c=d("WATweetnacl").lowlevel.pack25519,e=d("WATweetnacl").lowlevel.crypto_verify_32,f=new Uint8Array(32),g=new Uint8Array(32);c(f,a);c(g,b);return e(f,0,g,0)}function T(a,b){var c=d("WATweetnacl").lowlevel.set25519,e=d("WATweetnacl").lowlevel.S,f=d("WATweetnacl").lowlevel.M,g=d("WATweetnacl").lowlevel.Z,h=d("WATweetnacl").lowlevel.A,i=d("WATweetnacl").lowlevel.D,j=d("WATweetnacl").lowlevel.unpack25519,l=d("WATweetnacl").lowlevel.pow2523,o=k(),q=k(),r=k(),s=k(),t=k(),u=k(),v=k();c(a[2],n());j(a[1],b);e(r,a[1]);f(s,r,i);g(r,r,a[2]);h(s,a[2],s);e(t,s);e(u,t);f(v,u,t);f(o,v,r);f(o,o,s);l(o,o);f(o,o,r);f(o,o,s);f(o,o,s);f(a[0],o,s);e(q,a[0]);f(q,q,s);S(q,r)&&f(a[0],a[0],p());e(q,a[0]);f(q,q,s);if(S(q,r))return-1;U(a[0])===b[31]>>7&&g(a[0],m(),a[0]);f(a[3],a[0],a[1]);return 0}function U(a){var b=d("WATweetnacl").lowlevel.pack25519,c=new Uint8Array(32);b(c,a);return c[0]&1}g.runInAllocationScope=i;g.allocate=j;g.hashSha512=a;g.reduce=b;g.scalarmultBase=c;g.fieldElement=k;g.modL=l;g.p3Element=q;g.unpack=e;g.elligator=P;g.hashToPoint=f;g.pack=Q;g.inv25519=R;g.unpackneg=T}),98);
__d("WASignalSignatures",["Promise","WACryptoEd25519","WAHex","WASignalKeys","WASignalLocalStorageProtocol.pb","WASignalOther","WATweetnacl","decodeProtobuf"],(function(a,b,c,d,e,f,g){function h(a,b,c){return d("WACryptoEd25519").runInAllocationScope(function(){var e=b.length,f=a.privateKey,g=new Uint8Array(32);d("WACryptoEd25519").scalarmultBase(g,f);var h=g[31]&128,i=new Uint8Array(e+128);i[0]=254;i.fill(255,1,32);i.set(f,32);i.set(b,64);i.set(c,e+64);var j=d("WACryptoEd25519").allocate(Uint8Array,64);d("WACryptoEd25519").hashSha512(j,i,e+128);i.set(g,32);g=d("WACryptoEd25519").allocate(Float64Array,64);d("WACryptoEd25519").reduce(j,g);d("WACryptoEd25519").scalarmultBase(i,j);var k=d("WACryptoEd25519").allocate(Uint8Array,64);d("WACryptoEd25519").hashSha512(k,i,e+64);d("WACryptoEd25519").reduce(k,g);for(e=0;e<32;++e)g[e]=j[e];for(e=0;e<32;++e)for(j=0;j<32;++j)g[e+j]+=k[e]*f[j];d("WACryptoEd25519").modL(i.subarray(32,64),g);return{pubKeyNegative:h!==0,signedMsg:i}})}function a(a,c){return b("Promise").resolve().then(function(){var b=d("WASignalOther").makeBytes(64);self.crypto.getRandomValues(b);return i(a,c,b)})}function c(a,b,c){var e=c[63];return e&96?!1:d("WACryptoEd25519").runInAllocationScope(function(){var f=d("WATweetnacl").lowlevel.A,g=d("WATweetnacl").lowlevel.M,h=d("WATweetnacl").lowlevel.Z,i=d("WATweetnacl").lowlevel.pack25519,j=d("WATweetnacl").lowlevel.unpack25519,k=d("WACryptoEd25519").allocate(Uint8Array,64);k.set(c);k[63]=e&127;var l=d("WACryptoEd25519").fieldElement(),m=d("WACryptoEd25519").fieldElement(),n=d("WACryptoEd25519").fieldElement(),o=d("WACryptoEd25519").fieldElement(),p=d("WACryptoEd25519").fieldElement(),q=d("WACryptoEd25519").allocate(Uint8Array,32),r=d("WACryptoEd25519").fieldElement();r[0]=1;j(l,a.subarray(1));h(m,l,r);f(n,l,r);d("WACryptoEd25519").inv25519(o,n);g(p,m,o);i(q,p);q[31]=q[31]&127|e&128;return d("WATweetnacl").sign.detached.verify(b,k,q)})}function i(a,b,c){a=h(a,b,c);b=d("WASignalOther").sliceBytes(a.signedMsg,0,64);b[63]=b[63]&127|(a.pubKeyNegative?128:0);return b}function j(a,b,c){var e=d("WASignalKeys").makeKeyPair(),f=d("WASignalOther").makeBytes(64);self.crypto.getRandomValues(f);c=i(c,d("WASignalKeys").serializePubKey(e),f);if(!Number.isSafeInteger(b))throw new Error("Expected timestamp to be a safe integer, given "+String(b));return{id:d("WASignalKeys").castToPreKeyId(a),ts:b,keyPair:e,signature:c}}function e(a,b){var c=d("WASignalOther").makeBytes(64);self.crypto.getRandomValues(c);a=i(a,b,c);return a}function k(a){var b=a.id,c=a.keyPair;return d("WASignalOther").encodeSignalProto(d("WASignalLocalStorageProtocol.pb").SignedPreKeyRecordStructureSpec,{id:b,publicKey:d("WASignalKeys").serializePubKey(c),privateKey:c.privateKey,signature:a.signature,timestamp:a.ts})}function f(a){try{a=d("decodeProtobuf").decodeProtobuf(d("WASignalLocalStorageProtocol.pb").SignedPreKeyRecordStructureSpec,a);var b=a.id,c=a.publicKey,e=a.privateKey,f=a.signature;a=a.timestamp;return b==null||c==null||e==null||f==null||a==null?null:{id:d("WASignalKeys").castToPreKeyId(b),ts:a,keyPair:d("WASignalKeys").makeKeyPairFromSerialized(d("WASignalOther").toBytes(e,32),d("WASignalKeys").castToSerializedPubKey(new Uint8Array(c))),signature:d("WASignalOther").toBytes(f,64)}}catch(a){return null}}function l(a){return new Uint8Array(d("WAHex").parseHex(a))}function m(a){if(a.length===33)return d("WASignalKeys").castToSerializedPubKey(a);else if(a.length===32)return d("WASignalKeys").serializeIdentity(a);else throw new Error("verifyCertificate publicKey incorrect length")}function n(a,c,d){return b("Promise").resolve().then(function(){var b=j(a,c,d),e=k(b);return{plainObject:b,record:e}})}g.signMsg=a;g.verifyMsgSignalVariant=c;g.makeSignature=i;g.makeSignedPreKey=j;g.signSenderKeyMessage=e;g.serializeSignedPreKeyForPrivateStorage=k;g.deserializeSignedPreKey=f;g.convertPublicKeyHexToUint8Array=l;g.convertPublicKeyToSerializedPubKey=m;g.generateSignedPreKey=n}),98);/*FB_PKG_DELIM*/
__d("VestaServerGraphQLLoginProviderBeginLoginMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4095777503866932"}),null);
__d("VestaServerGraphQLLoginProviderBeginLoginMutation.graphql",["VestaServerGraphQLLoginProviderBeginLoginMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"begin_login_request",variableName:"input"}],concreteType:"VestaBeginLoginResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_begin_login",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_l2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_l2_sig",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLLoginProviderBeginLoginMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLLoginProviderBeginLoginMutation",selections:c},params:{id:b("VestaServerGraphQLLoginProviderBeginLoginMutation_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLLoginProviderBeginLoginMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLLoginProviderFinishLoginMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6273716649335831"}),null);
__d("VestaServerGraphQLLoginProviderFinishLoginMutation.graphql",["VestaServerGraphQLLoginProviderFinishLoginMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"finish_login_request",variableName:"input"}],concreteType:"VestaFinishLoginResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_finish_login",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_login_payload",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_success",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLLoginProviderFinishLoginMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLLoginProviderFinishLoginMutation",selections:c},params:{id:b("VestaServerGraphQLLoginProviderFinishLoginMutation_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLLoginProviderFinishLoginMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLLoginProviderInitQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4655183864512750"}),null);
__d("VestaServerGraphQLLoginProviderInitQuery.graphql",["VestaServerGraphQLLoginProviderInitQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],c=[{alias:null,args:[{kind:"Variable",name:"vesta_init_request",variableName:"request"}],concreteType:"VestaInitIqResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_login_init",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_rsa_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_rsa_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_ed25519_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_ed25519_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLLoginProviderInitQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLLoginProviderInitQuery",selections:c},params:{id:b("VestaServerGraphQLLoginProviderInitQuery_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLLoginProviderInitQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMWChatEncryptedBackupsPinCodeErrorTimeRemaining.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.attemptsRemaining;a=a.loginTimeoutRemainingSecs;if(a==null||b==null)return null;var c=new Date();c.setSeconds(c.getSeconds()+a);a=new Date();c=(c.getTime()-a.getTime())/1e3;a=Math.floor(c/60);c=Math.floor(a/60);return c===0?h._(/*FBT_CALL*/{"*":{"*":{"*":"An incorrect PIN was entered {attempts} times in a row. You can try again in {minutes_remaining} minutes. Your PIN will no longer work after {attempts_remaining} more incorrect entries.","_1":"An incorrect PIN was entered {attempts} times in a row. You can try again in {minutes_remaining} minutes. Your PIN will no longer work after {attempts_remaining} more incorrect entry."},"_1":{"*":"An incorrect PIN was entered {attempts} times in a row. You can try again in 1 minute. Your PIN will no longer work after {attempts_remaining} more incorrect entries.","_1":"An incorrect PIN was entered {attempts} times in a row. You can try again in 1 minute. Your PIN will no longer work after {attempts_remaining} more incorrect entry."}},"_1":{"*":{"*":"An incorrect PIN was entered 1 time in a row. You can try again in {minutes_remaining} minutes. Your PIN will no longer work after {attempts_remaining} more incorrect entries.","_1":"An incorrect PIN was entered 1 time in a row. You can try again in {minutes_remaining} minutes. Your PIN will no longer work after {attempts_remaining} more incorrect entry."},"_1":{"*":"An incorrect PIN was entered 1 time in a row. You can try again in 1 minute. Your PIN will no longer work after {attempts_remaining} more incorrect entries.","_1":"An incorrect PIN was entered 1 time in a row. You can try again in 1 minute. Your PIN will no longer work after {attempts_remaining} more incorrect entry."}}}/*FBT_CALL*/,[h._plural(10-b,"attempts"),h._plural(a,"minutes_remaining"),h._plural(b),h._param("attempts_remaining",b)]):a===0?h._(/*FBT_CALL*/{"*":{"*":{"*":"An incorrect PIN was entered {attempts} times in a row. You can try again in {hours_remaining} hours. Your PIN will no longer work after {attempts_remaining} more incorrect entries.","_1":"An incorrect PIN was entered {attempts} times in a row. You can try again in {hours_remaining} hours. Your PIN will no longer work after {attempts_remaining} more incorrect entry."},"_1":{"*":"An incorrect PIN was entered {attempts} times in a row. You can try again in 1 hour. Your PIN will no longer work after {attempts_remaining} more incorrect entries.","_1":"An incorrect PIN was entered {attempts} times in a row. You can try again in 1 hour. Your PIN will no longer work after {attempts_remaining} more incorrect entry."}},"_1":{"*":{"*":"An incorrect PIN was entered 1 time in a row. You can try again in {hours_remaining} hours. Your PIN will no longer work after {attempts_remaining} more incorrect entries.","_1":"An incorrect PIN was entered 1 time in a row. You can try again in {hours_remaining} hours. Your PIN will no longer work after {attempts_remaining} more incorrect entry."},"_1":{"*":"An incorrect PIN was entered 1 time in a row. You can try again in 1 hour. Your PIN will no longer work after {attempts_remaining} more incorrect entries.","_1":"An incorrect PIN was entered 1 time in a row. You can try again in 1 hour. Your PIN will no longer work after {attempts_remaining} more incorrect entry."}}}/*FBT_CALL*/,[h._plural(10-b,"attempts"),h._plural(c,"hours_remaining"),h._plural(b),h._param("attempts_remaining",b)]):h._(/*FBT_CALL*/{"*":{"*":{"*":{"*":"An incorrect PIN was entered {attempts} times in a row. You can try again in {hours_remaining} hours {minutes_remaining} minutes. Your PIN will no longer work after {attempts_remaining} more incorrect entries.","_1":"An incorrect PIN was entered {attempts} times in a row. You can try again in {hours_remaining} hours {minutes_remaining} minutes. Your PIN will no longer work after {attempts_remaining} more incorrect entry."},"_1":{"*":"An incorrect PIN was entered {attempts} times in a row. You can try again in {hours_remaining} hours 1 minute. Your PIN will no longer work after {attempts_remaining} more incorrect entries.","_1":"An incorrect PIN was entered {attempts} times in a row. You can try again in {hours_remaining} hours 1 minute. Your PIN will no longer work after {attempts_remaining} more incorrect entry."}},"_1":{"*":{"*":"An incorrect PIN was entered {attempts} times in a row. You can try again in 1 hour {minutes_remaining} minutes. Your PIN will no longer work after {attempts_remaining} more incorrect entries.","_1":"An incorrect PIN was entered {attempts} times in a row. You can try again in 1 hour {minutes_remaining} minutes. Your PIN will no longer work after {attempts_remaining} more incorrect entry."},"_1":{"*":"An incorrect PIN was entered {attempts} times in a row. You can try again in 1 hour 1 minute. Your PIN will no longer work after {attempts_remaining} more incorrect entries.","_1":"An incorrect PIN was entered {attempts} times in a row. You can try again in 1 hour 1 minute. Your PIN will no longer work after {attempts_remaining} more incorrect entry."}}},"_1":{"*":{"*":{"*":"An incorrect PIN was entered 1 time in a row. You can try again in {hours_remaining} hours {minutes_remaining} minutes. Your PIN will no longer work after {attempts_remaining} more incorrect entries.","_1":"An incorrect PIN was entered 1 time in a row. You can try again in {hours_remaining} hours {minutes_remaining} minutes. Your PIN will no longer work after {attempts_remaining} more incorrect entry."},"_1":{"*":"An incorrect PIN was entered 1 time in a row. You can try again in {hours_remaining} hours 1 minute. Your PIN will no longer work after {attempts_remaining} more incorrect entries.","_1":"An incorrect PIN was entered 1 time in a row. You can try again in {hours_remaining} hours 1 minute. Your PIN will no longer work after {attempts_remaining} more incorrect entry."}},"_1":{"*":{"*":"An incorrect PIN was entered 1 time in a row. You can try again in 1 hour {minutes_remaining} minutes. Your PIN will no longer work after {attempts_remaining} more incorrect entries.","_1":"An incorrect PIN was entered 1 time in a row. You can try again in 1 hour {minutes_remaining} minutes. Your PIN will no longer work after {attempts_remaining} more incorrect entry."},"_1":{"*":"An incorrect PIN was entered 1 time in a row. You can try again in 1 hour 1 minute. Your PIN will no longer work after {attempts_remaining} more incorrect entries.","_1":"An incorrect PIN was entered 1 time in a row. You can try again in 1 hour 1 minute. Your PIN will no longer work after {attempts_remaining} more incorrect entry."}}}}/*FBT_CALL*/,[h._plural(10-b,"attempts"),h._plural(c,"hours_remaining"),h._plural(a,"minutes_remaining"),h._plural(b),h._param("attempts_remaining",b)])}g["default"]=a}),98);
__d("useVestaBackupSecretRestore",["Promise","RelayHooks","regeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("E2EEBackupSecretRestoreModule").__setRef("useVestaBackupSecretRestore"),i=c("requireDeferred")("VestaServerGraphQLLoginProvider").__setRef("useVestaBackupSecretRestore");function a(){var a=d("RelayHooks").useRelayEnvironment();return function(c){var d,e,f,g,j,k;return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:l.next=2;return b("regeneratorRuntime").awrap(b("Promise").all([i.load(),h.load()]));case 2:d=l.sent;e=d[0];f=e.beginLogin;g=e.finishLogin;j=e.initLogin;k=d[1].restoreBackupSecret;return l.abrupt("return",k({beginLogin:f,finishLogin:g,initLogin:j},c,{environment:a}));case 9:case"end":return l.stop()}},null,this)}}g["default"]=a}),98);
__d("MWChatEncryptedBackupsPinCodeRestoreStep.react",["fbt","Actor","CometProgressButtonIndeterminate.react","CometRelay","FBLogger","FocusRegion.react","MWChatEncryptedBackupsDialogLayout.react","MWChatEncryptedBackupsPinCodeErrorWrapper.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSettingsDialogQuery.graphql","MWChatEncryptedBackupsVestaUserInfoContext.react","QPLUserFlow","TetraButton.react","TetraText.react","cr:2601","focusScopeQueries","promiseDone","react","regeneratorRuntime","useMWChatEncryptedBackupsAddDevice","useMWChatEncryptedBackupsPinCode","useMWChatEncryptedBackupsPinCodeErrorTimeRemaining.react","useQplImpressionRef","useVestaBackupSecretRestore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useContext,l=e.useState,m="chat-encrypted-backups-dialog-layout-restore-step",n=h._(/*FBT_CALL*/"Sync messages"/*FBT_CALL*/);function a(a){var e=a.onComplete,f=a.otherOptions;a=d("Actor").useActor();var g=a[0],o=d("CometRelay").useRelayEnvironment();a=l(!1);var p=a[0],q=a[1];a=l(!1);var r=a[0],s=a[1],t=c("useVestaBackupSecretRestore")();a=k(d("MWChatEncryptedBackupsVestaUserInfoContext.react").VestaUserInfoContext);var u=a.attemptsRemaining;a=a.loginTimeoutRemainingSecs;var v=u===0;e=c("useMWChatEncryptedBackupsAddDevice")({onComplete:e,onInvalidRecoveryCode:j(function(){return s(!0)},[])});var w=e[0];e=e[1];u=c("useMWChatEncryptedBackupsPinCodeErrorTimeRemaining.react")({attemptsRemaining:u,loginTimeoutRemainingSecs:a});var x=c("useMWChatEncryptedBackupsPinCode")({focusRegionId:m,onChange:function(){s(!1),q(!1)},onComplete:function(a){var e,f;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:e=new TextDecoder();h.prev=1;h.t0=e;h.next=5;return b("regeneratorRuntime").awrap(t({clientId:g,productUseCase:"MSGR_ENC_BACKUP",vestaAccountPin:a}));case 5:h.t1=h.sent;f=h.t0.decode.call(h.t0,h.t1);h.next=15;break;case 9:h.prev=9,h.t2=h["catch"](1),c("promiseDone")(d("CometRelay").fetchQuery(o,c("MWChatEncryptedBackupsSettingsDialogQuery.graphql"),{}).toPromise()),q(!0),c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"pin_code_error"),c("FBLogger")("labyrinth_web").mustfix("Error when setting the pin code up",h.t2);case 15:f!=null&&(c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{restore_type:"pin_code"}}),w(f));case 16:case"end":return h.stop()}},null,this,[[1,9]])}}),y=x[0];x=x[1];var z=x.disabled,A=x.isLoading;x=x.onPress;var B=c("useQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"pin_code_restore_screen");return i.jsxs(c("MWChatEncryptedBackupsDialogLayout.react"),{focusRegionId:m,primaryAction:A||e?i.jsx(c("CometProgressButtonIndeterminate.react"),{label:n}):i.jsx(c("TetraButton.react"),{disabled:a!=null||v||z,label:n,onPress:x,testid:void 0}),ref:B,secondaryAction:f&&i.jsx(c("TetraButton.react"),{label:f.label,onPress:function(){return f.onPress()},type:"secondary"}),title:h._(/*FBT_CALL*/"Enter your PIN"/*FBT_CALL*/),children:[i.jsx(c("TetraText.react"),{type:"body3",children:h._(/*FBT_CALL*/"This PIN allows you to access your end-to-end encrypted messages on any device. "/*FBT_CALL*/)}),i.jsx(c("MWChatEncryptedBackupsPinCodeErrorWrapper.react"),{error:v?h._(/*FBT_CALL*/"Your PIN was entered incorrectly too many times and has been disabled. Use a different method to access your messages."/*FBT_CALL*/):u!=null?u:p?h._(/*FBT_CALL*/"Entered PIN Code is not correct, please try again"/*FBT_CALL*/):r?h._(/*FBT_CALL*/"There was an error using a PIN Code, please try again"/*FBT_CALL*/):void 0,children:i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:m+"-input",children:i.jsx(b("cr:2601"),babelHelpers["extends"]({},y,{disabled:a!=null}))})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("E2EEBackupSecretRestoreModule",["E2EEBackupCommon","Promise","QuickPerformanceLogger","VestaClient","VestaClientError","qpl","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(235874858,"168");function a(a,e,f){var g,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;return b("regeneratorRuntime").async(function(G){while(1)switch(G.prev=G.next){case 0:c("QuickPerformanceLogger").markerStart(h);c("QuickPerformanceLogger").markerAnnotate(h,{string:{product_use_case:e.productUseCase}});G.prev=2;G.next=5;return b("regeneratorRuntime").awrap(a.initLogin({clientId:e.clientId,productUseCase:e.productUseCase},f));case 5:g=G.sent;i=g.islandRsaPub;j=g.islandRsaPubSig;k=g.islandEd25519Pub;l=g.islandEd25519PubSig;m=g.isRegistered;c("QuickPerformanceLogger").markerPoint(h,"init_login_network_call");if(m){G.next=16;break}c("QuickPerformanceLogger").markerAnnotate(h,{string:{failure_reason:"NOT_REGISTERED"}});c("QuickPerformanceLogger").markerEnd(h,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.NOT_REGISTERED);case 16:G.next=18;return b("regeneratorRuntime").awrap(b("Promise").all([d("VestaClient").validateHsmKey(i,j),d("VestaClient").validateHsmKey(k,l)]));case 18:n=G.sent;o=n[0];p=n[1];if(o){G.next=25;break}c("QuickPerformanceLogger").markerAnnotate(h,{string:{failure_reason:"ISLAND_PUB_RSA_KEY_INVALID"}});c("QuickPerformanceLogger").markerEnd(h,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ISLAND_PUB_RSA_KEY_INVALID);case 25:if(p){G.next=29;break}c("QuickPerformanceLogger").markerAnnotate(h,{string:{failure_reason:"ISLAND_PUB_ED25519_KEY_INVALID"}});c("QuickPerformanceLogger").markerEnd(h,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ISLAND_PUB_ED25519_KEY_INVALID);case 29:c("QuickPerformanceLogger").markerPoint(h,"verify_island_rsa_key");c("QuickPerformanceLogger").markerPoint(h,"verify_island_ed25519_key");q=new TextEncoder();G.next=34;return b("regeneratorRuntime").awrap(d("VestaClient").beginLogin(q.encode(e.vestaAccountPin==null?d("E2EEBackupCommon").DEFAULT_PIN_STRING:e.vestaAccountPin)));case 34:r=G.sent;s=r.clientState;t=r.l1Message;c("QuickPerformanceLogger").markerPoint(h,"begin_login_vesta_client");G.next=40;return b("regeneratorRuntime").awrap(a.beginLogin({clientId:e.clientId,productUseCase:e.productUseCase,opaqueL1:t},f));case 40:u=G.sent;v=u.opaqueL2;w=u.opaqueL2Sig;c("QuickPerformanceLogger").markerPoint(h,"begin_login_network_call");G.next=46;return b("regeneratorRuntime").awrap(d("VestaClient").finishLogin(v,w,k,s));case 46:x=G.sent;y=x.exportKey;z=x.l3Message;A=x.sessionKey;c("QuickPerformanceLogger").markerPoint(h,"finish_login_vesta_client");G.next=53;return b("regeneratorRuntime").awrap(a.finishLogin({clientId:e.clientId,productUseCase:e.productUseCase,opaqueL3:z},f));case 53:B=G.sent;C=B.loginSuccess;D=B.loginPayload;c("QuickPerformanceLogger").markerPoint(h,"finish_login_network_call");if(C){G.next=61;break}c("QuickPerformanceLogger").markerAnnotate(h,{string:{failure_reason:"VESTA_SERVER_ERROR"}});c("QuickPerformanceLogger").markerEnd(h,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_SERVER_ERROR);case 61:if(!(D!=null)){G.next=69;break}G.next=64;return b("regeneratorRuntime").awrap(d("VestaClient").unpackLoginPayload(D,A,y));case 64:E=G.sent;F=E.userSecret;c("QuickPerformanceLogger").markerPoint(h,"unpack_login_payload");c("QuickPerformanceLogger").markerEnd(h,2);return G.abrupt("return",F);case 69:c("QuickPerformanceLogger").markerAnnotate(h,{string:{failure_reason:"VESTA_SERVER_ERROR"}});c("QuickPerformanceLogger").markerEnd(h,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_SERVER_ERROR);case 74:G.prev=74;G.t0=G["catch"](2);if(!(G.t0 instanceof d("E2EEBackupCommon").BackupError)){G.next=80;break}throw G.t0;case 80:if(!(G.t0 instanceof c("VestaClientError"))){G.next=86;break}c("QuickPerformanceLogger").markerAnnotate(h,{string:{failure_reason:"VestaClientException: "+G.t0.name}});c("QuickPerformanceLogger").markerEnd(h,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_CLIENT_ERROR,G.t0);case 86:c("QuickPerformanceLogger").markerAnnotate(h,{string:{failure_reason:G.t0.message}});c("QuickPerformanceLogger").markerEnd(h,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.NETWORK_PROVIDER_ERROR,G.t0);case 89:case"end":return G.stop()}},null,this,[[2,74]])}g.restoreBackupSecret=a}),98);
__d("VestaServerGraphQLLoginProvider",["E2EEBackupUtil","Promise","RelayHooks","RelayModern","VestaServerGraphQLLoginProviderBeginLoginMutation.graphql","VestaServerGraphQLLoginProviderFinishLoginMutation.graphql","VestaServerGraphQLLoginProviderInitQuery.graphql","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,c){var e,f,g,i,j,k,l,m,n,o,p;return b("regeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:e=c.environment;q.next=3;return b("regeneratorRuntime").awrap(d("RelayHooks").fetchQuery(e,h!==void 0?h:h=b("VestaServerGraphQLLoginProviderInitQuery.graphql"),{request:{fbid:a.clientId,product_use_case:a.productUseCase}}).toPromise());case 3:f=q.sent;g=f==null?void 0:f.fbid_based_auth_layer_vesta_login_init;i=g==null?void 0:g.base64url_encoded_island_rsa_pub;j=g==null?void 0:g.base64url_encoded_island_rsa_pub_signature;k=g==null?void 0:g.base64url_encoded_opaque_pub;l=g==null?void 0:g.base64url_encoded_opaque_pub_signature;m=g==null?void 0:g.base64url_encoded_island_ed25519_pub;n=g==null?void 0:g.base64url_encoded_island_ed25519_pub_signature;o=g==null?void 0:g.is_registered;p=g==null?void 0:g.attempts_remaining;if(!(i!=null&&j!=null&&k!=null&&l!=null&&m!=null&&n!=null&&o!=null)){q.next=15;break}return q.abrupt("return",{islandRsaPub:d("E2EEBackupUtil").decodeBase64Url(i),islandRsaPubSig:d("E2EEBackupUtil").decodeBase64Url(j),opaquePub:d("E2EEBackupUtil").decodeBase64Url(k),opaquePubSig:d("E2EEBackupUtil").decodeBase64Url(l),islandEd25519Pub:d("E2EEBackupUtil").decodeBase64Url(m),islandEd25519PubSig:d("E2EEBackupUtil").decodeBase64Url(n),isRegistered:o,loginAttemptsRemaining:p});case 15:throw new Error("GraphQL Response is Null");case 16:case"end":return q.stop()}},null,this)}function c(a,c){var e=c.environment,f=i!==void 0?i:i=b("VestaServerGraphQLLoginProviderBeginLoginMutation.graphql"),g={input:{fbid:a.clientId,product_use_case:a.productUseCase,base64url_encoded_opaque_l1:d("E2EEBackupUtil").encodeBase64Url(a.opaqueL1)}};return new(b("Promise"))(function(a,b){d("RelayModern").commitMutation(e,{mutation:f,variables:g,onCompleted:function(c){c=c.fbid_based_auth_layer_vesta_begin_login;var e=c==null?void 0:c.base64url_encoded_opaque_l2;c=c==null?void 0:c.base64url_encoded_opaque_l2_sig;if(e!=null&&c!=null){a({opaqueL2:d("E2EEBackupUtil").decodeBase64Url(e),opaqueL2Sig:d("E2EEBackupUtil").decodeBase64Url(c)});return}b(new Error("GraphQL Response is Null"))},onError:function(a){b(a)}})})}function e(a,c){var e=c.environment,f=c.updater;return new(b("Promise"))(function(c,g){d("RelayModern").commitMutation(e,{mutation:j!==void 0?j:j=b("VestaServerGraphQLLoginProviderFinishLoginMutation.graphql"),variables:{input:{fbid:a.clientId,product_use_case:a.productUseCase,base64url_encoded_opaque_l3:d("E2EEBackupUtil").encodeBase64Url(a.opaqueL3)}},onCompleted:function(a){a=a.fbid_based_auth_layer_vesta_finish_login;var b=a==null?void 0:a.base64url_encoded_login_payload,e=a==null?void 0:a.login_success;a=a==null?void 0:a.attempts_remaining;if(e!=null){c({loginSuccess:e,loginPayload:b==null?b:d("E2EEBackupUtil").decodeBase64Url(b),attemptsRemaining:a});return}g(new Error("GraphQL Response is Null"))},onError:function(a){g(a)},updater:f})})}g.initLogin=a;g.beginLogin=c;g.finishLogin=e}),98);/*FB_PKG_DELIM*/
__d("E2EEBackupCommon",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ALREADY_REGISTERED","BACKUP_KEY_PAIR_SERIALIZATION_ERROR","CLIENT_PARAMS_ERROR","NETWORK_PROVIDER_ERROR","NOT_REGISTERED","VESTA_CLIENT_ERROR","VESTA_SERVER_ERROR","ISLAND_PUB_RSA_KEY_INVALID","ISLAND_PUB_ED25519_KEY_INVALID","GENERAL_ERROR"]);c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,c==null?void 0:c.message)||this;d.name="BackupError";d.errorType=b;d.detailedError=c;d.message=b+((c==null?void 0:c.message)!=null?": "+(c==null?void 0:c.message):"");return d}return b}(babelHelpers.wrapNativeSuper(Error));d="0000";f.BackupErrorType=a;f.BackupError=c;f.DEFAULT_PIN_STRING=d}),66);
__d("E2EEBackupUtil",["tweetnacl-util"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("tweetnacl-util").encodeBase64(a).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function b(a){var b=a.replace(/-/g,"+").replace(/_/g,"/");a=a.length%4;if(a>0){if(a===1)throw new Error("Invalid length, couldn't decode input string");b=b.padEnd(b.length+(4-a),"=")}return c("tweetnacl-util").decodeBase64(b)}g.encodeBase64Url=a;g.decodeBase64Url=b}),98);
__d("VestaClientBootstrap",["FBLogger","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Array(32).fill(void 0);i.push(void 0,null,!0,!1);function j(a,b){return a[b]}var k=i.length;function l(a){if(a<36)return;i[a]=k;k=a}function m(a){var b=j(i,a);l(a);return b}function n(a){k===i.length&&i.push(i.length+1);var b=k;k=j(i,b);i[b]=a;return b}function o(a){return a}var p=new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});p.decode();var q=null;function r(){var a=o(h.memory);(q===null||q.buffer!==a.buffer)&&(q=new Uint8Array(a.buffer));return q}function s(a,b){return p.decode(r().subarray(a,a+b))}function t(a,b){try{return a.apply(void 0,b)}catch(b){a=o(h.__wbindgen_exn_store);a(n(b))}}function u(a,b){return r().subarray(a/1,a/1+b)}function v(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!(typeof WebAssembly.instantiateStreaming==="function")){e.next=2;break}return e.abrupt("return",WebAssembly.instantiateStreaming(a,c));case 2:e.next=4;return b("regeneratorRuntime").awrap(a.arrayBuffer());case 4:d=e.sent;return e.abrupt("return",WebAssembly.instantiate(d,c));case 6:case"end":return e.stop()}},null,this)}function w(d){var e=arguments,g,k,l,o;return b("regeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:g={wbg:{__wbg_buffer_fbad716641c158a5:function(a){return n(j(i,a).buffer)},__wbg_call_9e1eb05d905a21d9:function(){return t(function(a,b){a=j(i,a).call(j(i,b));return n(a)},e)},__wbg_crypto_98fc271021c7d2ad:function(a){return n(j(i,a).crypto)},__wbg_getRandomValues_98117e9a7e993920:function(){return t(function(a,b){j(i,a).getRandomValues(j(i,b))},arguments)},__wbg_global_63b22b64d239db75:function(){return t(function(){var b=a.global;return n(b)},e)},__wbg_globalThis_d6f1ff349571af81:function(){return t(function(){return n(window)},e)},__wbg_length_82dd1e63e9c75f09:function(a){return j(i,a).length},__wbg_modulerequire_3440a4bcf44437db:function(){return t(function(a,b){a=f.require(s(a,b));return n(a)},e)},__wbg_msCrypto_a2cdb043d2bfe57f:function(a){return n(j(i,a).msCrypto)},__wbg_new_c9e78bd69716df92:function(a){return n(new Uint8Array(j(i,a)))},__wbg_newnoargs_ac91a24e57fcaec8:function(a,b){a=new Function(s(a,b));return n(a)},__wbg_newwithlength_a9f6c1fd1bf4e5e4:function(a){return n(new Uint8Array(a>>>0))},__wbg_node_4b517d861cbcb3bc:function(a){return n(j(i,a).node)},__wbg_process_2f24d6544ea7b200:function(a){return n(j(i,a).process)},__wbg_randomFillSync_64cc7d048f228ca8:function(){return t(function(a,b,c){j(i,a).randomFillSync(u(b,c))},e)},__wbg_self_bce917bbd61b0be0:function(){return t(function(){var a=self.self;return n(a)},e)},__wbg_set_2fd4486048716f38:function(a,b,c){return j(i,a).set(j(i,b),c>>>0)},__wbg_subarray_e80c85d931be89c4:function(a,b,c){return n(j(i,a).subarray(b>>>0,c>>>0))},__wbg_versions_6164651e75405d4a:function(a){return n(j(i,a).versions)},__wbg_window_08048ce184ae3496:function(){return t(function(){var a=window.window;return n(a)},e)},__wbindgen_is_object:function(a){return typeof j(i,a)==="object"&&j(i,a)!==null},__wbindgen_is_string:function(a){return typeof j(i,a)==="string"},__wbindgen_is_undefined:function(a){return j(i,a)===void 0},__wbindgen_memory:function(){return n(h.memory)},__wbindgen_object_clone_ref:function(a){return n(j(i,a))},__wbindgen_object_drop_ref:m,__wbindgen_throw:function(a,b){throw c("FBLogger")("wasm_vesta_client").mustfixThrow(s(a,b))}}};p.next=3;return b("regeneratorRuntime").awrap(window.fetch(d));case 3:k=p.sent;p.t0=b("regeneratorRuntime");p.t1=v;p.next=8;return b("regeneratorRuntime").awrap(k);case 8:p.t2=p.sent;p.t3=g;p.t4=p.t1(p.t2,p.t3);p.next=13;return p.t0.awrap.call(p.t0,p.t4);case 13:l=p.sent;o=l.instance;h=o.exports;w.__wbindgen_wasm_module=f;return p.abrupt("return",o);case 18:case"end":return p.stop()}},null,this)}g["default"]=w}),98);
__d("VestaClient",["Promise","VestaClientBootstrap","bx","regeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("mapVestaClientError").__setRef("VestaClient"),i=4096,j,k,l=function(a){return new(b("Promise"))(function(b){h.onReady(function(c){b(c(a))})})};function m(){var a;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(c("VestaClientBootstrap")(c("bx").getURL(c("bx")("604"))));case 2:a=d.sent,j=a.exports,k=n(j.memory);case 5:case"end":return d.stop()}},null,this)}function n(a){return a}function a(a,c){var d,e,f,g,h,o,p,r;return b("regeneratorRuntime").async(function(s){while(1)switch(s.prev=s.next){case 0:if(!(j===void 0||k===void 0)){s.next=3;break}s.next=3;return b("regeneratorRuntime").awrap(m());case 3:d=0;e=new Uint8Array(k.buffer,d,a.byteLength);e.set(a);d+=e.byteLength;f=new Uint8Array(k.buffer,d,c.byteLength);f.set(c);d+=f.byteLength;g=new Uint8Array(k.buffer,d,i);h=n(j.vesta_client_validate_hsm_key);o=h(e.byteOffset,e.byteLength,f.byteOffset,f.byteLength,g.byteOffset,g.byteLength);if(!(o!==0)){s.next=17;break}s.next=16;return b("regeneratorRuntime").awrap(l(o));case 16:throw s.sent;case 17:p=new DataView(k.buffer,d,i);r=q(p);return s.abrupt("return",r[0][0]!==0);case 20:case"end":return s.stop()}},null,this)}function d(a){var c,d,e,f,g,h,o;return b("regeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:if(!(j===void 0||k===void 0)){p.next=3;break}p.next=3;return b("regeneratorRuntime").awrap(m());case 3:c=0;d=new Uint8Array(k.buffer,c,a.byteLength);d.set(a);c+=d.byteLength;e=new Uint8Array(k.buffer,c,i);f=n(j.vesta_client_begin_register);g=f(d.byteOffset,d.byteLength,e.byteOffset,e.byteLength);if(!(g!==0)){p.next=14;break}p.next=13;return b("regeneratorRuntime").awrap(l(g));case 13:throw p.sent;case 14:h=new DataView(k.buffer,c,i);o=q(h);return p.abrupt("return",{clientState:new Uint8Array(o[1]),r1Message:new Uint8Array(o[0])});case 17:case"end":return p.stop()}},null,this)}function e(a,c,d,e,f,g,h,o,p){var r,s,t,u,v,w,x,y,z,A,B,C,D,E;return b("regeneratorRuntime").async(function(F){while(1)switch(F.prev=F.next){case 0:p===void 0&&(p=0);if(!(j===void 0||k===void 0)){F.next=4;break}F.next=4;return b("regeneratorRuntime").awrap(m());case 4:r=0;s=new Uint8Array(k.buffer,r,a.byteLength);s.set(a);r+=a.byteLength;t=new Uint8Array(k.buffer,r,c.byteLength);t.set(c);r+=c.byteLength;u=new Uint8Array(k.buffer,r,d.byteLength);u.set(d);r+=d.byteLength;v=new Uint8Array(k.buffer,r,e.byteLength);v.set(e);r+=e.byteLength;w=new Uint8Array(k.buffer,r,f.byteLength);w.set(f);r+=f.byteLength;x=new Uint8Array(k.buffer,r,g.byteLength);x.set(g);r+=g.byteLength;y=new Uint8Array(k.buffer,r,h.byteLength);y.set(h);r+=h.byteLength;z=new Uint8Array(k.buffer,r,o.byteLength);z.set(o);r+=o.byteLength;A=new Uint8Array(k.buffer,r,i);B=n(j.vesta_client_finish_register);C=B(s.byteOffset,s.byteLength,t.byteOffset,t.byteLength,u.byteOffset,u.byteLength,v.byteOffset,v.byteLength,w.byteOffset,w.byteLength,x.byteOffset,x.byteLength,y.byteOffset,y.byteLength,z.byteOffset,z.byteLength,p,A.byteOffset,A.byteLength);if(!(C!==0)){F.next=36;break}F.next=35;return b("regeneratorRuntime").awrap(l(C));case 35:throw F.sent;case 36:D=new DataView(k.buffer,r,i);E=q(D);return F.abrupt("return",{registerIdentifier:new Uint8Array(E[1]),registerPayload:new Uint8Array(E[0])});case 39:case"end":return F.stop()}},null,this)}function f(a){var c,d,e,f,g,h,o;return b("regeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:if(!(j===void 0||k===void 0)){p.next=3;break}p.next=3;return b("regeneratorRuntime").awrap(m());case 3:c=0;d=new Uint8Array(k.buffer,c,a.byteLength);d.set(a);c+=d.byteLength;e=new Uint8Array(k.buffer,c,i);f=n(j.vesta_client_begin_login);g=f(d.byteOffset,d.byteLength,e.byteOffset,e.byteLength);if(!(g!==0)){p.next=14;break}p.next=13;return b("regeneratorRuntime").awrap(l(g));case 13:throw p.sent;case 14:h=new DataView(k.buffer,c,i);o=q(h);return p.abrupt("return",{clientState:new Uint8Array(o[1]),l1Message:new Uint8Array(o[0])});case 17:case"end":return p.stop()}},null,this)}function o(a,c,d,e){var f,g,h,o,p,r,s,t,u,v;return b("regeneratorRuntime").async(function(w){while(1)switch(w.prev=w.next){case 0:if(!(j===void 0||k===void 0)){w.next=3;break}w.next=3;return b("regeneratorRuntime").awrap(m());case 3:f=0;g=new Uint8Array(k.buffer,f,a.byteLength);g.set(a);f+=a.byteLength;h=new Uint8Array(k.buffer,f,c.byteLength);h.set(c);f+=c.byteLength;o=new Uint8Array(k.buffer,f,d.byteLength);o.set(d);f+=d.byteLength;p=new Uint8Array(k.buffer,f,e.byteLength);p.set(e);f+=e.byteLength;r=new Uint8Array(k.buffer,f,i);s=n(j.vesta_client_finish_login);t=s(g.byteOffset,g.byteLength,h.byteOffset,h.byteLength,o.byteOffset,o.byteLength,p.byteOffset,p.byteLength,r.byteOffset,r.byteLength);if(!(t!==0)){w.next=23;break}w.next=22;return b("regeneratorRuntime").awrap(l(t));case 22:throw w.sent;case 23:u=new DataView(k.buffer,f,i);v=q(u);return w.abrupt("return",{exportKey:new Uint8Array(v[2]),l3Message:new Uint8Array(v[0]),sessionKey:new Uint8Array(v[1])});case 26:case"end":return w.stop()}},null,this)}function p(a,c,d){var e,f,g,h,o,p,r,s,t;return b("regeneratorRuntime").async(function(u){while(1)switch(u.prev=u.next){case 0:if(!(j===void 0||k===void 0)){u.next=3;break}u.next=3;return b("regeneratorRuntime").awrap(m());case 3:e=0;f=new Uint8Array(k.buffer,e,a.byteLength);f.set(a);e+=a.byteLength;g=new Uint8Array(k.buffer,e,c.byteLength);g.set(c);e+=c.byteLength;h=new Uint8Array(k.buffer,e,d.byteLength);h.set(d);e+=d.byteLength;o=new Uint8Array(k.buffer,e,i);p=n(j.vesta_client_unpack_login_payload);r=p(f.byteOffset,f.byteLength,g.byteOffset,g.byteLength,h.byteOffset,h.byteLength,o.byteOffset,o.byteLength);if(!(r!==0)){u.next=20;break}u.next=19;return b("regeneratorRuntime").awrap(l(r));case 19:throw u.sent;case 20:s=new DataView(k.buffer,e,i);t=q(s);return u.abrupt("return",{userSecret:new Uint8Array(t[0])});case 23:case"end":return u.stop()}},null,this)}function q(a){var b=[],c=0,d=a.getUint8(c++);for(var e=0;e<d;e++){var f=a.getUint32(c);c+=4;b[e]=[];for(var g=0;g<f;g++)b[e].push(a.getUint8(c++))}return b}g.validateHsmKey=a;g.beginRegister=d;g.finishRegister=e;g.beginLogin=f;g.finishLogin=o;g.unpackLoginPayload=p}),98);
__d("VestaClientError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("mapVestaClientError",["VestaClientError"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case 1:return new h();case 2:return new i();case 3:return new j();case 4:return new k();case 5:return new l();case 6:return new m();case 7:return new n();case 8:return new o();case 9:return new p();case 10:return new q();case 11:return new r();case 12:return new s();default:return new t()}}var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Buffer supplied to WASM for response is too small");a=b.call(this,a)||this;a.name="InsufficientResultBuffer";return a}return a}(c("VestaClientError")),i=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Incorrect user password supplied during login");a=b.call(this,a)||this;a.name="InvalidUserPassword";return a}return a}(c("VestaClientError")),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Invalid input from server");a=b.call(this,a)||this;a.name="MalformedServerResponse";return a}return a}(c("VestaClientError")),k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Invalid input from client");a=b.call(this,a)||this;a.name="MalformedClientInput";return a}return a}(c("VestaClientError")),l=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error during encryption operation");a=b.call(this,a)||this;a.name="EncryptionFailure";return a}return a}(c("VestaClientError")),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error during decryption operation");a=b.call(this,a)||this;a.name="DecryptionFailure";return a}return a}(c("VestaClientError")),n=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error during serialization operation.");a=b.call(this,a)||this;a.name="SerializationFailure";return a}return a}(c("VestaClientError")),o=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error deserializing inputs, likely due to malformed input");a=b.call(this,a)||this;a.name="DeserializationFailure";return a}return a}(c("VestaClientError")),p=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Passed RSA public key is in an invalid format.");a=b.call(this,a)||this;a.name="RsaInvalidKey";return a}return a}(c("VestaClientError")),q=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unable to verify RSA signature");a=b.call(this,a)||this;a.name="RsaVerificationFailure";return a}return a}(c("VestaClientError")),r=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Passed Ed25519 public key is in an invalid format.");a=b.call(this,a)||this;a.name="Ed25519InvalidKey";return a}return a}(c("VestaClientError")),s=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unable to verify Ed25519 signature");a=b.call(this,a)||this;a.name="Ed25519VerificationFailure";return a}return a}(c("VestaClientError")),t=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unknown error code received from WASM binary");a=b.call(this,a)||this;a.name="UnknownErrorCode";return a}return a}(c("VestaClientError"));g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("GaloisField32",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=c("FBLogger")("labyrinth_web"),i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,5,7,1,3,13,15,9,11,21,23,17,19,29,31,25,27,0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,21,22,19,16,25,26,31,28,13,14,11,8,1,2,7,4,0,4,8,12,16,20,24,28,5,1,13,9,21,17,29,25,10,14,2,6,26,30,18,22,15,11,7,3,31,27,23,19,0,5,10,15,20,17,30,27,13,8,7,2,25,28,19,22,26,31,16,21,14,11,4,1,23,18,29,24,3,6,9,12,0,6,12,10,24,30,20,18,21,19,25,31,13,11,1,7,15,9,3,5,23,17,27,29,26,28,22,16,2,4,14,8,0,7,14,9,28,27,18,21,29,26,19,20,1,6,15,8,31,24,17,22,3,4,13,10,2,5,12,11,30,25,16,23,0,8,16,24,5,13,21,29,10,2,26,18,15,7,31,23,20,28,4,12,17,25,1,9,30,22,14,6,27,19,11,3,0,9,18,27,1,8,19,26,2,11,16,25,3,10,17,24,4,13,22,31,5,12,23,30,6,15,20,29,7,14,21,28,0,10,20,30,13,7,25,19,26,16,14,4,23,29,3,9,17,27,5,15,28,22,8,2,11,1,31,21,6,12,18,24,0,11,22,29,9,2,31,20,18,25,4,15,27,16,13,6,1,10,23,28,8,3,30,21,19,24,5,14,26,17,12,7,0,12,24,20,21,25,13,1,15,3,23,27,26,22,2,14,30,18,6,10,11,7,19,31,17,29,9,5,4,8,28,16,0,13,26,23,17,28,11,6,7,10,29,16,22,27,12,1,14,3,20,25,31,18,5,8,9,4,19,30,24,21,2,15,0,14,28,18,29,19,1,15,31,17,3,13,2,12,30,16,27,21,7,9,6,8,26,20,4,10,24,22,25,23,5,11,0,15,30,17,25,22,7,8,23,24,9,6,14,1,16,31,11,4,21,26,18,29,12,3,28,19,2,13,5,10,27,20,0,16,5,21,10,26,15,31,20,4,17,1,30,14,27,11,13,29,8,24,7,23,2,18,25,9,28,12,19,3,22,6,0,17,7,22,14,31,9,24,28,13,27,10,18,3,21,4,29,12,26,11,19,2,20,5,1,16,6,23,15,30,8,25,0,18,1,19,2,16,3,17,4,22,5,23,6,20,7,21,8,26,9,27,10,24,11,25,12,30,13,31,14,28,15,29,0,19,3,16,6,21,5,22,12,31,15,28,10,25,9,26,24,11,27,8,30,13,29,14,20,7,23,4,18,1,17,2,0,20,13,25,26,14,23,3,17,5,28,8,11,31,6,18,7,19,10,30,29,9,16,4,22,2,27,15,12,24,1,21,0,21,15,26,30,11,17,4,25,12,22,3,7,18,8,29,23,2,24,13,9,28,6,19,14,27,1,20,16,5,31,10,0,22,9,31,18,4,27,13,1,23,8,30,19,5,26,12,2,20,11,29,16,6,25,15,3,21,10,28,17,7,24,14,0,23,11,28,22,1,29,10,9,30,2,21,31,8,20,3,18,5,25,14,4,19,15,24,27,12,16,7,13,26,6,17,0,24,21,13,15,23,26,2,30,6,11,19,17,9,4,28,25,1,12,20,22,14,3,27,7,31,18,10,8,16,29,5,0,25,23,14,11,18,28,5,22,15,1,24,29,4,10,19,9,16,30,7,2,27,21,12,31,6,8,17,20,13,3,26,0,26,17,11,7,29,22,12,14,20,31,5,9,19,24,2,28,6,13,23,27,1,10,16,18,8,3,25,21,15,4,30,0,27,19,8,3,24,16,11,6,29,21,14,5,30,22,13,12,23,31,4,15,20,28,7,10,17,25,2,9,18,26,1,0,28,29,1,31,3,2,30,27,7,6,26,4,24,25,5,19,15,14,18,12,16,17,13,8,20,21,9,23,11,10,22,0,29,31,2,27,6,4,25,19,14,12,17,8,21,23,10,3,30,28,1,24,5,7,26,16,13,15,18,11,22,20,9,0,30,25,7,23,9,14,16,11,21,18,12,28,2,5,27,22,8,15,17,1,31,24,6,29,3,4,26,10,20,19,13,0,31,27,4,19,12,8,23,3,28,24,7,16,15,11,20,6,25,29,2,21,10,14,17,5,26,30,1,22,9,13,18],j=[0,1,18,28,9,23,14,12,22,4,25,16,7,15,6,13,11,24,2,29,30,26,8,5,17,10,21,31,3,19,20,27],k="ACDEFHJKLMNPQRSTUVWXYZ0123456789",l=function(){var a={};for(var b=0;b<k.length;b++)a[k[b]]=b;return a}();function m(a,b){return i[a*32+b]}function a(a){var b=[];for(var c=0;c<a.length;c++){if(!(a[c]in l)){h.mustfix("gf32: tried to convert invalid string to GF32 matrix: %s",a);return null}b[c]=l[a[c]]}return b}function b(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.push(k[e])}return b.join("")}function n(a){return a===0||a===1||a===2||a===3||a===4||a===5||a===6||a===7||a===8||a===9||a===10||a===11||a===12||a===13||a===14||a===15||a===16||a===17||a===18||a===19||a===20||a===21||a===22||a===23||a===24||a===25||a===26||a===27||a===28||a===29||a===30||a===31?a:null}function d(a){var b=[];for(var c=0;c<a.length;c++){var d=n(a[c]);if(d==null)throw h.mustfixThrow("gf32: tried to convert bad value to GF32 element: %s",a[c]);b.push(d)}return b}function o(a,b){var c=a^b,d=n(c);if(d==null)throw h.mustfixThrow("gf32: xor of gf32 elements returned a non-element (should be impossible): %s ^ %s = %s",a,b,c);return d}function p(a,b,c,d,e){for(var f=0;f<b;f++)a[c*b+f]=o(a[c*b+f],m(a[d*b+f],e))}function q(a,b,c,d){for(var e=0;e<b;e++){var f=a[c*b+e];a[c*b+e]=a[d*b+e];a[d*b+e]=f}}function r(a,b,c,d){for(var e=0;e<b;e++)a[c*b+e]=m(a[c*b+e],d)}function s(a,b){if(b===0)throw h.mustfixThrow("gf32: tried to divide by 0");return m(a,j[b])}function t(a){var b=Array(a*a).fill(0);for(var c=0;c<a;c++)b[c*a+c]=1;return b}function e(a,b){a=a.slice();var c=t(b);for(var d=0;d<b;d++){var e=d;if(a[d*b+e]===0){var f=!1;for(var g=d+1;g<b;g++)if(a[g*b+e]!==0){q(a,b,d,g);q(c,b,d,g);f=!0;break}if(!f)return null}for(var g=d+1;g<b;g++){f=s(a[g*b+e],a[d*b+e]);p(a,b,g,d,f);p(c,b,g,d,f)}}for(var f=b-1;f>=0;f--){e=f;for(var g=f-1;g>=0;g--){d=s(a[g*b+e],a[f*b+e]);p(a,b,g,f,d);p(c,b,g,f,d)}}for(var d=0;d<b;d++){e=a[d*b+d];if(e===0)return null;r(c,b,d,j[e])}return c}f=0;g.zero=f;g.matrixToSymbols=b;g.symbolsToMatrix=a;g.invert=e;g.xor=o;g.multiply=m;g.asGf32MatExn=d}),98);
__d("GF32RecoveryCodes",["FBLogger","GaloisField32"],(function(a,b,c,d,e,f,g){"use strict";var h=c("FBLogger")("labyrinth_web"),i=34,j=4,k=3,l=i+j,m=d("GaloisField32").asGf32MatExn([18,24,16,12,8,20,2,19,4,22,21,5,28,5,14,21,7,16,15,10,3,9,28,22,11,30,19,6,7,7,9,18,16,2,9,12,18,14,7,6,5,16,9,24,16,28,19,2,14,8,2,4,1,21,26,21,10,27,16,25,18,14,20,17,11,22,21,22,16,20,2,5,0,9,6,7,23,23,23,11,6,5,3,31,29,30,17,28,0,30,28,7,13,5,11,22,12,16,25,3,20,22,26,22,14,29,5,14,5,19,12,19,18,8,25,7,30,7,8,12,0,26,15,10,17,21,2,29,14,4,31,7,29,6,29,1,14,16,17,15,4,16,7,4,7,4,8,26,10,23,24,26]);function n(a,b,c){c===void 0&&(c=1);var d=[];for(var a=a;a<b;a+=c)d.push(a);return d}var o={};function p(a,b){function c(a,b,d,e){if(b<=0)return[[]];if(e-d<=b)return[n(d,e)];var f=a|b<<8|d<<16|e<<24,g=o[f];if(g!=null)return g;var h=[];c(a-1,b-1,d+1,e).forEach(function(a){a=a.slice();a.splice(0,0,d);h.push(a)});c(a-1,b,d+1,e).forEach(function(a){h.push(a.slice())});o[f]=h;return h}return c(a,b,0,a)}function q(a,b){var c=a.length,d=Array(c*c).fill(0),e=0;for(var f=0;f<j;f++){if(f===b)continue;for(var g=0;g<c;g++){var h=a[g];d[e*c+g]=m[f*l+h]}e++}return d}function r(a,b){for(var c=0;c<j;c++){var e=q(a,c);e=d("GaloisField32").invert(e,b);if(e!=null)return{excludeRow:c,submatInv:e}}return null}function a(a){var b=Array(j).fill(0);for(var c=0;c<j;c++)for(var e=0;e<i;e++)b[c]=d("GaloisField32").xor(b[c],d("GaloisField32").multiply(m[c*l+e],a[e]));e=Array(j*j);for(var a=0;a<j;a++)for(var c=0;c<j;c++)e[a*j+c]=m[a*l+i+c];c=d("GaloisField32").invert(e,j);if(c==null)throw h.mustfixThrow("gf32: failed to invert error code submatrix (should be impossible): %s",JSON.stringify(e));a=Array(j).fill(0);for(var e=0;e<j;e++)for(var f=0;f<j;f++)a[e]=d("GaloisField32").xor(a[e],d("GaloisField32").multiply(c[e*j+f],b[f]));return a}function b(a){var b=new Set(),c=d("GaloisField32").symbolsToMatrix(a);if(c==null){h.warn("gf32: recovery code %s could not be converted to GF32 matrix",a);return[a]}a=Array(j).fill(0);for(var e=0;e<j;e++)for(var f=0;f<l;f++)a[e]=d("GaloisField32").xor(a[e],d("GaloisField32").multiply(m[e*l+f],c[f]));f=p(l,k);for(var e=f,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(g>=e.length)break;i=e[g++]}else{g=e.next();if(g.done)break;i=g.value}i=i;var n=a.slice();for(var o=0;o<j;o++)for(var q=i,s=Array.isArray(q),t=0,q=s?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=q.length)break;u=q[t++]}else{t=q.next();if(t.done)break;u=t.value}u=u;n[o]=d("GaloisField32").xor(n[o],d("GaloisField32").multiply(m[o*l+u],c[u]))}u=r(i,k);if(u==null){h.warn("gf32: no submat inverse found for error locs %s",JSON.stringify(i));continue}t=u.excludeRow;s=u.submatInv;q=Array(k).fill(0);o=n.slice();o.splice(t,1);for(var u=0;u<k;u++)for(var v=0;v<k;v++)q[u]=d("GaloisField32").xor(q[u],d("GaloisField32").multiply(s[u*k+v],o[v]));v=d("GaloisField32").zero;for(var u=0;u<k;u++)v=d("GaloisField32").xor(v,d("GaloisField32").multiply(m[t*l+i[u]],q[u]));if(v===n[t]){s=c.slice();for(var o=0;o<i.length;o++)s[i[o]]=q[o];b.add(d("GaloisField32").matrixToSymbols(s))}}return Array.from(b)}g.getEccForCode=a;g.getCandidateCodes=b}),98);/*FB_PKG_DELIM*/
__d("LSEncryptedBackupsRecoveryCodeStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];f.unknown=a;f.valid=c;f.invalid=d}),null);
__d("MWChatEncryptedBackupsAddDevice.bs",["LS.bs","LSAddDevice","LSAuthorityLevel.bs","LSEncryptedBackupsRecoveryCodeStatus.bs","LSTransaction.bs","MWEncryptedBackupsInitializeRestore.bs","MessengerWebInitData","Promise","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("MessengerWebInitData").sessionId;function a(a,c,d,e){var f=b("useReStore")(),g=h.useMemo(function(){return b("ReQL.bs").fromTableAscending(f.table("secure_encrypted_backups_recovery_code_status"))},[f]);return h.useCallback(function(h){b("bs_curry")._1(a,void 0);var j={contents:function(a){}};j.contents=b("ReQLSubscription.bs").subscribe(f,g,function(a){if(a===void 0)return;if(a.length!==1)return;a=a[0];a=a.recoveryCodeStatus;if(b("bs_caml").i64_eq(a,b("LSEncryptedBackupsRecoveryCodeStatus.bs").invalid)){b("bs_curry")._1(e,void 0);return b("bs_curry")._1(j.contents,void 0)}if(!b("bs_caml").i64_eq(a,b("LSEncryptedBackupsRecoveryCodeStatus.bs").valid))return;a=b("ReQL.bs").fromTableAscending(f.table("secure_encrypted_backups_client_state"));var g={contents:function(a){}};g.contents=b("ReQLSubscription.bs").subscribe(f,a,function(a){if(a!==void 0){if(a.length!==1)return;a=a[0];if(b("bs_caml").i64_eq(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){b("promiseDone")(b("MWEncryptedBackupsInitializeRestore.bs").initializeRestoreStoredProcedure(f),c,d);return b("bs_curry")._1(g.contents,void 0)}else return}b("bs_curry")._1(d,void 0);return b("bs_curry")._1(g.contents,void 0)});return b("bs_curry")._1(j.contents,void 0)});b("promiseDone")(b("ReQL.bs").first(b("ReQL.bs").fromTableAscending(f.table("encrypted_backups"))).then(function(a){if(a===void 0)return b("Promise").resolve(void 0);var c=a.backupId;if(c!==void 0)return b("LSTransaction.bs").run(f,function(a){return b("LSAddDevice")(c,h,i,b("LS.bs").make(a))},"readWrite");else return b("Promise").resolve(void 0)}),void 0,void 0)},[f,a,c,d,e])}f.sessionId=i;f.useHook=a}),null);
__d("MWChatEncryptedBackupsAddDevice.re",["MWChatEncryptedBackupsAddDevice.bs","bs_curry"],(function(a,b,c,d,e,f){a=function(a){a=b("bs_curry")._4(b("MWChatEncryptedBackupsAddDevice.bs").useHook,a.onStart,a.onSuccess,a.onFailure,a.onInvalidRecoveryCode);return a};f.useHook=a}),null);
__d("MWChatEncriptedBackupsAccessCodeInput.react",["fbt","BaseTextArea.react","TetraText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l={container:{backgroundColor:"qsy8amke",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",marginTop:"tr9rh885",marginEnd:"wkznzc2l",marginBottom:"sjgh65i0",marginStart:"dhix69tm",paddingBottom:"j7796vcc",paddingTop:"discj3wi",textAlign:"oqcyycmt",":hover":{backgroundImage:"ehryuci6"}},input:{backgroundColor:"g5ia77u1",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",color:"oo9gr5id",fontSize:"a5q79mjw",fontWeight:"lrazzd5p",letterSpacing:"gvnu1mct",lineHeight:"idlsp9ju",paddingBottom:"qt6c0cv9",paddingTop:"cxgpxx05",textAlign:"oqcyycmt",width:"pjq6n0z3","::placeholder":{color:"o8yuz56k"}}},m="---- ---- ---- ---- ----\n---- ---- ---- ---- ----",n=40;function a(a){var b=a.onFocus,d=a.onValueChange,e=a.value,f=k(),g=k(0),p=k(0);j(function(){if(p.current!==g.current){var a;p.current=g;(a=f.current)==null?void 0:a.setSelectionRange(g.current,g.current)}});var q=function(a){return a.toUpperCase().replace(/[^A-Z0-9]/g,"")};a=function(a){var b;a=q(a).substring(0,n);var c=q(e);if(a===c)return;b=((b=f.current)==null?void 0:b.selectionStart)||0;m[b]===" "||m[b]==="\n"?b+=1:(c.length>a.length&&m[b-1]===" "||m[b-1]==="\n")&&(b-=1);g.current=b;d(a)};return i.jsxs("div",{className:c("stylex")(l.container),children:[i.jsx(c("TetraText.react"),{type:"meta3",children:h._(/*FBT_CALL*/"Recovery code"/*FBT_CALL*/)}),i.jsx("span",{style:{fontFamily:"var(--font-family-code)"},children:i.jsx(c("BaseTextArea.react"),{maxRows:2,onFocus:b,onValueChange:a,placeholder:m,ref:f,suppressFocusRing:!0,testid:void 0,unresizable:!0,value:e===""?m:o(e),xstyle:l.input})})]})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=a.split("");return m.split("").map(function(a){if(a===" "||a==="\n"||b.length===0)return a;else return b.shift()}).join("")}g["default"]=a}),98);
__d("MWChatEncryptedBackupsClearRecoveryCode.bs",["LSTransaction.bs","Promise","ReQL.bs","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return h.useCallback(function(a){return b("Promise").all([(a=b("ReQL.bs")).first(a.fromTableAscending(c.table("secure_recovery_code_data"))).then(function(a){if(a===void 0)return b("Promise").resolve(void 0);var d=a.taskId;return b("LSTransaction.bs").run(c,function(a){return a.table("secure_recovery_code_data")["delete"]({hd:d,tl:0})},"readWrite")}),a.first(a.fromTableAscending(c.table("secure_encrypted_backups_recovery_code_status"))).then(function(a){if(a===void 0)return b("Promise").resolve(void 0);var d=a.pk;return b("LSTransaction.bs").run(c,function(a){return a.table("secure_encrypted_backups_recovery_code_status")["delete"]({hd:d,tl:0})},"readWrite")})])},[c])}f.useHook=a}),null);
__d("MWChatEncryptedBackupsClearRecoveryCode.re",["MWChatEncryptedBackupsClearRecoveryCode.bs"],(function(a,b,c,d,e,f){a=b("MWChatEncryptedBackupsClearRecoveryCode.bs").useHook;f.useHook=a}),null);
__d("useMWChatEncryptedBackupsAddDevice",["fbt","ix","BaseToasterStateManager","CometIcon.react","CometProgressRingIndeterminate.react","MWChatEncryptedBackupsAddDevice.re","MWChatEncryptedBackupsClearRecoveryCode.re","MWChatEncryptedBackupsQPLEvents","cometPushToast","fbicon","promiseDone","react","useLabyrinthLogging"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useRef,m=b.useState,n=c("BaseToasterStateManager").getInstance();function a(a){var b=a.onComplete,e=a.onInvalidRecoveryCode,f=l(null);a=c("useLabyrinthLogging")({});var g=a.QPLEndFail,o=a.QPLEndSuccess;a=m(!1);var p=a[0],q=a[1],r=function(){q(!1),f.current!=null&&n.expire(f.current)},s=d("MWChatEncryptedBackupsClearRecoveryCode.re").useHook(),t=d("MWChatEncryptedBackupsAddDevice.re").useHook({onFailure:function(){g(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"restore_error"),r(),d("cometPushToast").cometPushErrorToast({message:h._(/*FBT_CALL*/"There was an error restoring your message history, please retry later."/*FBT_CALL*/)})},onInvalidRecoveryCode:function(){r(),e()},onStart:function(){f.current=d("cometPushToast").cometPushToast({icon:j.jsx(c("CometProgressRingIndeterminate.react"),{color:"dark",size:24}),message:h._(/*FBT_CALL*/"Syncing messages. This may take a few minutes."/*FBT_CALL*/),supressCloseButton:!0},1e4),q(!0)},onSuccess:k(function(){o(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent),r(),d("cometPushToast").cometPushToast({icon:j.jsx(c("CometIcon.react"),{color:"white",icon:d("fbicon")._(i("492714"),20)}),message:h._(/*FBT_CALL*/"Messages synced"/*FBT_CALL*/)}),b()},[b,o])});return[function(a){return c("promiseDone")(s().then(function(){return t(a)}))},p]}g["default"]=a}),98);
__d("MWChatEncryptedBackupsAccessCodeInputStep.react",["fbt","CometProgressButtonIndeterminate.react","MWChatEncriptedBackupsAccessCodeInput.react","MWChatEncryptedBackupsDialogLayout.react","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","TetraButton.react","TetraText.react","react","useMWChatEncryptedBackupsAddDevice","useQplImpressionRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useState,l=h._(/*FBT_CALL*/"Sync messages"/*FBT_CALL*/);function a(a){var b=a.onCancel;a=a.onComplete;var e=k(""),f=e[0],g=e[1];e=k(!1);var m=e[0],n=e[1];e=k(!1);var o=e[0],p=e[1];e=j(function(){c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"invalid_recovery_code_input"),p(!0)},[]);var q=function(a){o&&p(!1),m&&n(!1),g(a)};a=c("useMWChatEncryptedBackupsAddDevice")({onComplete:a,onInvalidRecoveryCode:e});var r=a[0];e=a[1];a=c("useQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"recovery_code_restore_screen");return i.jsxs(c("MWChatEncryptedBackupsDialogLayout.react"),{primaryAction:e?i.jsx(c("CometProgressButtonIndeterminate.react"),{label:l}):i.jsx(c("TetraButton.react"),{disabled:f.length<40,label:l,onPress:function(){c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{restore_type:"recovery_code"}}),r(f)},testid:void 0}),ref:a,secondaryAction:i.jsx(c("TetraButton.react"),{label:h._(/*FBT_CALL*/"Not now"/*FBT_CALL*/),onPress:b,type:"secondary"}),title:h._(/*FBT_CALL*/"Enter your access code"/*FBT_CALL*/),children:[i.jsx("div",{className:"ofv0k9yr",children:i.jsx(c("TetraText.react"),{type:"body3",children:h._(/*FBT_CALL*/"Use the 40-digit code you received when you first set up message sync."/*FBT_CALL*/)})}),i.jsx(c("MWChatEncriptedBackupsAccessCodeInput.react"),{onValueChange:q,value:f}),o?i.jsx("div",{className:"lt9micmv gl4o1x5y",children:i.jsx(c("TetraText.react"),{align:"center",color:"negative",type:"meta3",children:h._(/*FBT_CALL*/"Incorrect recovery code. Try again. "/*FBT_CALL*/)})}):m?i.jsx("div",{className:"lt9micmv gl4o1x5y",children:i.jsx(c("TetraText.react"),{align:"center",color:"negative",type:"meta3",children:h._(/*FBT_CALL*/"Please use your \"messenger.chats.sync\" credential on your browser to get the correct access code."/*FBT_CALL*/)})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSUpsertAttachmentRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.fe(b.db.table(17).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(c){return b.db.table(17).add({threadKey:a[0],mediaGroup:a[1],minTimestampMs:a[2],maxTimestampMs:[2328,1316134911],hasMoreBefore:a[3],hasMoreAfter:!1,isLoadingBefore:!1,isLoadingAfter:!1})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSBase64Encode.bs",["Base64.bs","LSResult.bs","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return window.Promise.resolve(b("LSResult.bs").make(b("bs_belt_Option").map(d,b("Base64.bs").fromArrayBuffer)))}f.call=a}),null);
__d("LSBinaryToHex.bs",["LSResult.bs","Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){a=Array.from(new Uint8Array(d));c=a.map(function(a){return a.toString(16).padStart(2,"0")});d=c.join("").toUpperCase();return b("Promise").resolve(b("LSResult.bs").make(d))}f.call=a}),null);
__d("CryptoLogger.bs",["FBLogger","bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){a="crypto."+a;return b("FBLogger")("labyrinth_web",a)}function c(a,c){if(c.RE_EXN_ID===b("bs_js_exn").$$Error)return a.catching(c._1);else return a}function d(a){if(a.RE_EXN_ID===b("bs_js_exn").$$Error)throw a._1;throw a}f.make=a;f.captureError=c;f.rethrowError=d}),null);
__d("LSCreateDerivedKeys.bs",["Crypto.bs","CryptoLogger.bs","LSResult.bs","LSVec.bs","Promise","Promise.bs","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_int64","bs_js_int"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){var h=b("CryptoLogger.bs").make("create_derived_keys");if(g.length<1||g.some(function(a){return b("bs_caml").i64_gt(a,b("bs_caml_int64").of_int32(b("bs_js_int").max))})){h.mustfix("Invalid key lengths for derive keys");return window.Promise.resolve(b("LSResult.bs").make(b("LSVec.bs").make([])))}var i=g.map(b("bs_caml_int64").to_int32),j=i.reduce(function(a,b){return a+b|0},0)<<3;return b("Promise.bs").$$catch(b("Crypto.bs").importKey("raw",f,{NAME:"Hkdf",VAL:"HKDF"},!1,["deriveBits"]).then(function(a){return b("Crypto.bs").deriveBits({NAME:"Hkdf",VAL:{name:"HKDF",hash:"SHA-256",salt:b("bs_belt_Option").getWithDefault(e,new Uint8Array(10).buffer),info:d}},a,j)}).then(function(a){a=new Uint8Array(a);var c=[],d=0;for(var e=0,f=i.length;e<f;++e){var g=d+b("bs_caml_array").get(i,e)|0;c.push(a.slice(d,g).buffer);d=g}return window.Promise.resolve(b("LSResult.bs").make(b("LSVec.bs").make(c)))}),function(a){b("CryptoLogger.bs").captureError(h,a).mustfix("Failed to create derived keys");return b("Promise").resolve(b("LSResult.bs").make(b("LSVec.bs").make([])))})}f.call=a}),null);
__d("LSGetBlobFromInt64BE.bs",["LSResult.bs","Promise","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=new Uint8Array(8);e.reduceRight(function(a,c,d){c=b("bs_caml_int64").to_int32(b("bs_caml_int64").mod_(a,[0,256]));e[d]=c;return b("bs_caml_int64").div(a,[0,256])},d);return b("Promise").resolve(b("LSResult.bs").make(e.buffer))}f.call=a}),null);
__d("TextEncoder.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.encode(b).buffer}f.encodeToArrayBuffer=a}),null);
__d("LSGetBlobFromString.bs",["LSResult.bs","Promise","TextEncoder.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){a=new TextEncoder();return b("Promise").resolve(b("LSResult.bs").make(b("TextEncoder.bs").encodeToArrayBuffer(a,d)))}f.call=a}),null);
__d("LSHmac_v2.bs",["Crypto.bs","CryptoLogger.bs","LSResult.bs","Promise","Promise.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("Promise.bs").$$catch(b("Crypto.bs").importKey("raw",d,{NAME:"Hmac",VAL:{name:"HMAC",hash:"SHA-256"}},!1,["sign"]).then(function(a){return b("Crypto.bs").sign("HMAC",a,e)}).then(function(a){return b("Promise").resolve(b("LSResult.bs").make(a))}),function(a){var c=b("CryptoLogger.bs").make("hmac_v2");b("CryptoLogger.bs").captureError(c,a).mustfix("Crypto signing failed");return b("CryptoLogger.bs").rethrowError(a)})}f.call=a}),null);
__d("RistrettoDeferred.bs",["requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("Ristretto255.bs").__setRef("RistrettoDeferred.bs");function a(a){return g.load()}f.$Ristretto255$Deferred=g;f.load=a}),null);
__d("LSOcmfClientMap.bs",["Crypto.bs","CryptoLogger.bs","LSResult.bs","Promise","Promise.bs","RistrettoDeferred.bs","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("Promise.bs").$$catch(b("Promise").all([b("Crypto.bs").digest("SHA-512",e),b("RistrettoDeferred.bs").load(void 0)]).then(function(a){var c=a[1];a=b("bs_curry")._1(c.fromHash,new Uint8Array(a[0]));c=b("bs_curry")._2(c.scalarMult,new Uint8Array(d),a);return b("LSResult.bs").make(c.buffer)}),function(a){var c=b("CryptoLogger.bs").make("ocmf_client_map");b("CryptoLogger.bs").captureError(c,a).mustfix("Failed OcmfClientMap.");return b("CryptoLogger.bs").rethrowError(a)})}f.call=a}),null);
__d("UInt8Array.bs",["Crypto.bs","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.length;if(!(c>0&&c%2===0&&/^[\da-f]+$/gi.test(a)))return;var d=[];for(var e=0,c=c/2|0;e<c;++e){var f=parseInt(a.substring(e<<1,(e<<1)+2|0),16);d.push(f)}return b("bs_caml_option").some(new Uint8Array(d))}function c(a){return b("Crypto.bs").getRandomValues(new Uint8Array(a)).buffer}function d(a){a=a.filter(function(a){return a.byteLength!==0});var b=a.reduce(function(a,b){return a+b.byteLength|0},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.byteLength|0},0);return c}f.fromHexString=a;f.getBufferWithRandomValuesFromLength=c;f.concatBytes=d}),null);
__d("OrderPreservingEncryption.bs",["Crypto.bs","Promise","UInt8Array.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{expansionFactor:a,opeVersion:b}}function c(a){a=new Uint8Array(32);return b("Crypto.bs").getRandomValues(a).buffer}function g(a){var b=a.length;if(b%2!==0)return"0"+a;else return a}function h(a){a=BigInt(a);var b=g(a.toString(16));a=b.length;a=a/2|0;var c=[];for(var d=0;d<a;++d)c.push(d<<1);return new Uint8Array(c.map(function(a){var c=a+2|0;return b.slice(a,c)}).map(function(a){return parseInt(a,16)}))}function i(a){a=a.map(function(a){return a._0});return{_0:b("UInt8Array.bs").concatBytes(a)}}function j(a,c,d){a=b("Crypto.bs").importKey("raw",a.buffer,{NAME:"Hkdf",VAL:"HKDF"},!1,["deriveKey","deriveBits"]);a=a.then(function(a){var e=new ArrayBuffer(0);return b("Crypto.bs").deriveBits({NAME:"Hkdf",VAL:{name:"HKDF",hash:"SHA-256",salt:e,info:c.buffer}},a,d<<3)});return a.then(function(a){return b("Promise").resolve({_0:b("Crypto.bs").Utils.bufToUint8(a)})})}function k(a,c){return{_0:b("Crypto.bs").Utils.modAddBytes(a._0,c)}}function l(a,c,d){var e=d.byteLength,f=function(a,b){var c=new Uint8Array(1+e|0),d=new Uint8Array(e-b|0).fill(0);c.set([b]);c.set(a.subarray(0,b),1);c.set(d,b+1|0);return c};if(e>=255)return b("Promise").reject({RE_EXN_ID:"Failure",_1:"Input is too large"});var g=b("Promise").all(Array.from(d).map(function(e,g){g=f(d,g);var h=new Uint8Array(a.expansionFactor);h[a.expansionFactor-1|0]=e;e=b("Crypto.bs").Utils.bufToUint8(c);e=j(e,g,a.expansionFactor);return e.then(function(a){return b("Promise").resolve(k(a,h))})}));return g.then(function(c){c=i(c);var d=new Uint8Array([a.opeVersion]);return b("Promise").resolve(b("UInt8Array.bs").concatBytes([d,c._0]))})}function d(a,b,c){c=h(c);return l(a,b,c)}e=l;var m={intStringToBEBytes:h};f.make=a;f.keyGen=c;f.encryptIntString=d;f.encryptBigEndianBytes=e;f.Utils=m}),null);
__d("LSOpeEncrypt.bs",["CryptoLogger.bs","LSResult.bs","OrderPreservingEncryption.bs","Promise","Promise.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){a=b("bs_caml_int64").to_int32(f);var g=b("CryptoLogger.bs").make("ope_encrypt");return b("Promise.bs").$$catch(b("OrderPreservingEncryption.bs").encryptBigEndianBytes(b("OrderPreservingEncryption.bs").make(a,1),d,new Uint8Array(e)).then(function(a){return b("Promise").resolve(b("LSResult.bs").make(a.buffer))}),function(a){b("CryptoLogger.bs").captureError(g,a).mustfix("OpeEncrypt_impl failed");return b("CryptoLogger.bs").rethrowError(a)})}f.call=a}),null);
__d("LSTruncateSortKey.bs",["CryptoLogger.bs","LSResult.bs","Promise"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=b("CryptoLogger.bs").make("truncate_sort_key");if(a.byteLength!==8){c.mustfix("Bad length on sort key for truncation");return!1}a=new Uint8Array(a);a=a.subarray(0,2);if(a.some(function(a){return a!==0})){c.mustfix("Bad prefix on sort key for truncation");return!1}else return!0}function a(a,c,d){if(g(d))return b("Promise").resolve(b("LSResult.bs").make(d.slice(2)));else return b("Promise").reject({RE_EXN_ID:"Failure",_1:"Invalid sort key for truncation"})}f.isValidInput=g;f.call=a}),null);/*FB_PKG_DELIM*/
__d("InterventionDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4639035899476826"}),null);
__d("InterventionDialogQuery$Parameters",["InterventionDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("InterventionDialogQuery_facebookRelayOperation"),metadata:{},name:"InterventionDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFIGroupCommentActorLink_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIGroupCommentActorLink_actor",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometUFIGroupCommentActorLink_groupCommentInfo$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"CometUFIGroupCommentActorLink_groupCommentInfo$normalization",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"feed_location",variableName:"feedLocation"},{kind:"Literal",name:"is_comet",value:!0}],kind:"ScalarField",name:"is_author_with_member_profile",storageKey:null}]};e.exports=a}),null);
__d("CometUFIGroupCommentActorLink_groupCommentInfo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"}],kind:"Fragment",metadata:null,name:"CometUFIGroupCommentActorLink_groupCommentInfo",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"feed_location",variableName:"feedLocation"},{kind:"Literal",name:"is_comet",value:!0}],kind:"ScalarField",name:"is_author_with_member_profile",storageKey:null}],type:"GroupCommentInfo",abstractKey:null};e.exports=a}),null);
__d("CometProgressButtonIndeterminate.react",["CometProgressRingIndeterminate.react","TetraButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("TetraButton.react"),babelHelpers["extends"]({},a,{addOnPrimary:h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:16}),disabled:!0}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometGranularTimestamp.react",["fbt","CometTimestamp.react","formatDate","react","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=1e3*60*60,k=j*24;function l(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate()}function a(a){var b=a.date;a=a.granularity;a=a===void 0?"none":a;var d=c("useServerTime")();if(a==="none"||a==="min")return i.jsx(c("CometTimestamp.react"),{date:b});if(a==="hour"){var e=b.valueOf()%j;e=new Date(b.valueOf()-e);return i.jsx(c("CometTimestamp.react"),{date:e})}if(a==="year")return c("formatDate")(b,"Y");if(a==="month")return d.getFullYear()===b.getFullYear()?c("formatDate")(b,"F"):c("formatDate")(b,"F Y");if(l(b,d))return h._(/*FBT_CALL*/"Today"/*FBT_CALL*/);e=new Date(d.valueOf()-k);if(l(b,e))return h._(/*FBT_CALL*/"Yesterday"/*FBT_CALL*/);a=new Date(d.valueOf()+k);if(l(b,a))return h._(/*FBT_CALL*/"Tomorrow"/*FBT_CALL*/);return d.getFullYear()!==b.getFullYear()?c("formatDate")(b,"F j, Y"):c("formatDate")(b,"F j")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometMemberProfileLink.react",["ActorHovercard.react","CometHovercardGroupContext","CometLink.react","CometPressable.react","ProfileCometContextualProfileGating","XCometContextualProfileControllerRouteBuilder","mergeRefs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a.color,d=a.groupID,e=a.kind,f=e===void 0?"link":e;e=a.memberID;var g=a.xstyle,l=j(a),m=l.linkProps,n=l.ref;l=i(function(){return{groupID:d}},[d]);var o={"aria-hidden":a["aria-hidden"],"aria-label":a["aria-label"],children:a.children,focusable:a.focusable};return h.jsx("span",{className:c("stylex")(g),children:h.jsx(c("CometHovercardGroupContext").Provider,{value:l,children:h.jsx(c("ActorHovercard.react"),{actorID:e,display:"inline",children:function(a){a=c("mergeRefs")(a,n);switch(f){case"link":return h.jsx(c("CometLink.react"),babelHelpers["extends"]({},o,m,{color:b,ref:a}));case"profilePhoto":return h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},o,k(m),{overlayRadius:"50%",ref:a}));default:return f}}})})})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.groupID,e=a.hasMemberProfile,f=a.memberID,g=a.onClick;a=a.profileUrl;return d("ProfileCometContextualProfileGating").canViewCometContextualProfile()&&e?{linkProps:{href:c("XCometContextualProfileControllerRouteBuilder").buildURL({group_idorvanity:b,member_id:f}),onClick:g}}:{linkProps:{href:a,onClick:g}}}function k(a){var b=a.href,c=a.onClick;a=a.preventLocalNavigation;return{linkProps:{preventLocalNavigation:a,url:b},onPress:c}}g["default"]=a}),98);
__d("GroupsCometNextGenNavContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react").createContext;b=a(!1);c=b;g["default"]=c}),98);
__d("InterventionDialog.entrypoint",["InterventionDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{extraProps:a,queries:{InterventionDialogQueryReference:{parameters:c("InterventionDialogQuery$Parameters"),variables:{actionType:a.actionType,entityID:a.entityID,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("InterventionDialog.react").__setRef("InterventionDialog.entrypoint")};g["default"]=a}),98);
__d("CometUFIGroupCommentActorLink.react",["CometRelay","CometUFIGroupCommentActorLink_actor.graphql","CometUFIGroupCommentActorLink_groupCommentInfo.graphql","GroupsCometMemberProfileLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react");function a(a){var e=a.author,f=a.children,g=a.groupCommentInfo,k=a.kind;a=babelHelpers.objectWithoutPropertiesLoose(a,["author","children","groupCommentInfo","kind"]);e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFIGroupCommentActorLink_actor.graphql"),e);g=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFIGroupCommentActorLink_groupCommentInfo.graphql"),g);var l=e.id,m=g.group;g=g.is_author_with_member_profile;m=m==null?void 0:m.id;return l==null||m==null?f:j.jsx(c("GroupsCometMemberProfileLink.react"),babelHelpers["extends"]({},a,{groupID:m,hasMemberProfile:(a=g)!=null?a:!1,kind:k,memberID:l,profileUrl:e==null?void 0:e.url,children:f}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometGroupDiscussionControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groups/{idorvanity}/{?view}/{?post_id}/",Object.freeze({modal:!1,should_open_composer:!1,hoisted_section_header_type:"notifications",show_migration_preparation_dialog:!1,show_migration_onboarding_dialog:!1,show_review_some_onboarding:!1,show_share_event_to_group_composer:!1}),void 0);b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("MWChatEncryptedBackupsPinCodeInput.react",["fbt","BaseTextInput.react","CometComponentWithKeyCommands.react","CometKeys","CometRow.react","CometRowItem.react","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l=b.useRef,m=b.useState,n={input:{backgroundColor:"ni63fzuy",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",boxSizing:"rq0escxv",color:"oo9gr5id",fontSize:"o0t2es00",fontWeight:"lrazzd5p",height:"fbzcu06b",lineHeight:"sxds76ek",position:"l9j0dhe7",textAlign:"oqcyycmt",width:"jokk5rks"}};function a(a){var b=a["aria-label"],d=a.disabled,e=d===void 0?!1:d,f=a.enableMaskDelay,g=a.inputMode,o=a.onChange,p=a.onCompletionChange,q=a.onValidateKey,r=a.pattern,s=a.size;d=a.testid;var t=a.value,u=k(function(){return Array(s).fill().map(function(a,b){return(a=t[b])!=null?a:""})},[s,t]);d=m(t.length===s);var v=d[0],w=d[1],x=l(Array(s).fill(null));a=m(0);var y=a[0],z=a[1];d=u.findIndex(function(a){return a===""});var A=d===-1?s:d,B=function(a){var b=x.current[a];b==null?void 0:b.focus();b==null?void 0:b.select();z(a)},C=j(function(a){a=a.join("").trim();var b=a.length===s;o(a);p!=null&&b!==v&&(w(b),p(b))},[v,o,p,s]);a=k(function(){var a=function(){var a=Math.min(s-1,y+1);a=A<a?A:a;y!==a&&B(a)};return[{command:{key:c("CometKeys").PREVIOUS},description:h._(/*FBT_CALL*/"Previous"/*FBT_CALL*/),handler:function(){return B(Math.max(0,y-1))},triggerFromInputs:!0},{command:{key:c("CometKeys").NEXT},description:h._(/*FBT_CALL*/"Next"/*FBT_CALL*/),handler:function(){return a()},triggerFromInputs:!0},{command:{key:c("CometKeys").DELETE},description:h._(/*FBT_CALL*/"Delete"/*FBT_CALL*/),handler:function(){var a=x.current[y];B(Math.max(0,y-1));(a==null?void 0:a.value)!==""&&C(u.filter(function(a,b){return y!==b}).concat(""))},triggerFromInputs:!0}]},[y,A,s,u,C]);var D=l(Array(s).fill(null));d=m(Array(s).fill(!1));var E=d[0],F=d[1];return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:a,children:i.jsx(c("CometRow.react"),{align:"center","aria-label":b,role:"group",spacing:16,testid:void 0,children:u.map(function(a,b){return i.jsx(c("CometRowItem.react"),{children:i.jsx(c("BaseTextInput.react"),{autoComplete:"new-password",disabled:e,inputMode:g,onChange:function(){f!=null&&(c("clearTimeout")(D.current[b]),F(function(a){return a.map(function(a,c){return b!==c})}),D.current[b]=c("setTimeout")(function(){D.current[b]=null,F(function(a){return a.map(function(a,c){return b===c||a})})},f))},onFocus:function(){B(b)},onKeyDown:function(a){var b=a.key,c=a.keyCode;q!=null&&!q({key:b,keyCode:c})&&(a.preventDefault(),a.stopPropagation())},onMouseDown:function(a){!v&&A<b&&(a.preventDefault(),B(A))},onPaste:function(a){return a.preventDefault()},onValueChange:function(a){var c=(""+a).slice(-1);if(c!==""){a=Math.min(s-1,b+1);B(a)}C(u.map(function(a,d){return b===d?c:a}))},pattern:r,ref:function(a){if(a==null)return;x.current[b]=a},tabIndex:v?void 0:A<b?-1:void 0,testid:void 0,value:E[b]&&a!==""?"\u25cf":a,xstyle:n.input})},b)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWChatEncryptedBackupsPinCodeErrorWrapper.react",["CometColumn.react","CometColumnItem.react","TetraText.react","qex","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={errorText:{marginTop:"tr9rh885",marginEnd:"wkznzc2l",marginBottom:"sjgh65i0",marginStart:"dhix69tm",minHeight:"l66bhrea"},inputWrapperErrorOnly:{display:"q9uorilb",paddingBottom:"f10w8fjw"},outterWrapper:{minHeight:"b7sb10vf"},wrapperError:{borderTop:"pmg7q2s5",borderEnd:"m2wu88kb",borderBottom:"hxpkjkow",borderStart:"czm2i3kx",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",marginTop:"hqeojc4l",marginEnd:"o9f14d3k",marginBottom:"mkjtxrlb",marginStart:"def1xbws"}};function a(a){var b,d=a.children;a=a.error;b=(b=c("qex")._("113"))!=null?b:!1;return h.jsx(c("CometColumn.react"),{xstyle:i.outterWrapper,children:h.jsx(c("CometColumnItem.react"),{align:"center",paddingHorizontal:20,paddingTop:20,children:h.jsxs("div",{className:c("stylex")(a!=null&&!b&&i.wrapperError),children:[h.jsx("div",{className:c("stylex")(a!=null&&b&&[i.wrapperError,i.inputWrapperErrorOnly]),children:d}),h.jsx("div",{className:c("stylex")(i.errorText),children:a!=null?h.jsx(c("TetraText.react"),{color:"negative",type:"body3",children:a}):null})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEncrypedBackupsPinCodeNumericOnlyValidation",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b=a.key;a=a.keyCode;return!(a===32||a===229||a>=65&&a<=90||a>=106&&a<=111||a>=160&&a<=165||a>=186&&a<=223||a>=48&&a<=57&&Number.isNaN(Number(b)))};b={inputMode:"numeric",pattern:"[0-9]{1}"};f.onValidateKey=a;f.inputProps=b}),66);
__d("useMWChatEncryptedBackupsPinCode",["FocusRegion.react","MWChatEncrypedBackupsPinCodeNumericOnlyValidation","focusScopeQueries","react","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";d("react");c=d("react");var h=c.useEffect,i=c.useRef,j=c.useState;function a(a){var c=a.focusRegionId,e=a.onChange,f=a.onComplete;a=j(!1);var g=a[0],k=a[1];a=j(!0);var l=a[0],m=a[1],n=i(l);a=j("");var o=a[0],p=a[1];a=function(a){m(!a)};var q=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:m(!0);k(!0);a.prev=2;a.next=5;return b("regeneratorRuntime").awrap(f(o));case 5:a.prev=5;p("");k(!1);return a.finish(5);case 9:case"end":return a.stop()}},null,this,[[2,,5,9]])};h(function(){n.current!==l&&(n.current=l,l||d("FocusRegion.react").focusRegionById(c,d("focusScopeQueries").tabbableScopeQuery))});return[babelHelpers["extends"]({},d("MWChatEncrypedBackupsPinCodeNumericOnlyValidation").inputProps,{disabled:g,enableMaskDelay:1e3,onChange:function(a){p(a),e==null?void 0:e(a)},onCompletionChange:a,onValidateKey:d("MWChatEncrypedBackupsPinCodeNumericOnlyValidation").onValidateKey,size:6,value:o}),{disabled:l,isLoading:g,onPress:function(){q()}}]}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSInitializeRestore",["LSAppendDataTraceAddon","LSBase64Encode.bs","LSCreateDataTraceID.bs","LSGetBlobFromString.bs","LSHmac_v2.bs","LSIssueNewTaskAndGetTaskID","LSOcmfClientMap.bs","LSSerializeThreadListKey"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(a){return c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsInitializeRestoreStoredProcedure]Beginning execution."),c.islc(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,[0,80])}),0,c.i64.to_float([0,1])).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[f,f,f,f,f,[0,1]],d[0]=e[0],d[1]=e[1],d[2]=e[2],d[3]=e[3],d[4]=e[4],d[5]=e[5],e):(b=a.item,d[8]=b.backupTenancy,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=[0,1],e=[b.backupId,b.deviceId,b.mailboxRootKeyBlob,b.ocmfClientStateBlob,b.encryptionVersion,d[7]],d[0]=e[0],d[1]=e[1],d[2]=e[2],d[3]=e[3],d[4]=e[4],d[5]=e[5],e)})},function(a){return c.i64.neq(d[0],f)?c.blobs.neq(d[3],f)?c.seq([function(a){return c.sp(b("LSSerializeThreadListKey"),"0",c.i64.to_string(d[0]),"AdvancedCrypto").then(function(a){return a=a,d[7]=a[0],a})},function(a){return c.nop(b("LSGetBlobFromString.bs"),c.i64.to_string(d[0])).then(function(a){return a=a,d[8]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.bs"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[8]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.bs"),d[3],d[9]).then(function(a){return a=a,d[10]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[10]).then(function(a){return a=a,d[11]=a[0],a})},function(a){return c.nop(b("LSGetBlobFromString.bs"),d[7]).then(function(a){return a=a,d[12]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.bs"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[12]).then(function(a){return a=a,d[13]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.bs"),d[3],d[13]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.bs"),d[14]).then(function(a){return a=a,d[15]=a[0],a})},function(a){return c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueRestoreTaskStoredProcedure]Beginning execution."),c.i64.gt([0,0],[0,0])?d[17]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[17]=[0,0],c.sp(b("LSIssueNewTaskAndGetTaskID"),"encrypted_backups_restore",[0,50015],"",f,f,[0,0],f).then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.db.table(190).add({taskId:d[18],mailboxPartialId:d[11]==null?"":d[11],listId:d[15]==null?"":d[15],numItems:[0,100],contentType:[0,2]})},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueRestoreTaskStoredProcedure]Finishing execution."),d[16]=d[18]}])},function(a){return c.i64.neq(d[16],f)?c.seq([function(a){return c.islc(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,[0,80])&&c.i64.eq(a.backupTenancy,[0,2])}),0,c.i64.to_float([0,1])).next().then(function(a,b){b=a.done;a=a.value;return b?d[17]=!1:(a.item,d[17]=!0)})},function(a){return d[17]?d[19]=c.i64.or_([0,73],[0,128]):d[19]=[0,73],c.nop(b("LSCreateDataTraceID.bs")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[21]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBTraceUtils]",d[21],"EncryptedBackups Trace ID",d[21],c.i64.to_string(d[19])].join("")),c.db.table(153).add({traceId:d[20],initTimestampMs:c.i64.of_float(Date.now()),traceType:d[19],shouldFlush:!1,contextThree:["restore_threads",".",c.i64.to_string(d[16])].join("")})},function(a){return d[23]=["restore_threads",".",c.i64.to_string(d[16])].join(""),c.seq([function(a){return c.ftr(c.db.table(153).fetch(),function(a){return a.contextOne===d[23]||a.contextTwo===d[23]||a.contextThree===d[23]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[24]=f:(b=a.item,d[24]=b.traceId)})},function(a){return d[22]=d[24]}])},function(a){return d[22]!==f?c.sp(b("LSAppendDataTraceAddon"),d[22],[0,1418],[0,2],f,f):c.resolve()}]):c.resolve()}]):c.resolve(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsInitializeRestoreStoredProcedure]missing ocmf_client_state for restore")):c.resolve(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsInitializeRestoreStoredProcedure]missing backup_id for restore"))},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsInitializeRestoreStoredProcedure]Finishing execution.")}])},function(a){return c.resolve(e)}])}e.exports=a}),null);/*FB_PKG_DELIM*/
__d("LSAddDevice",["LSAppendDataTraceAddon","LSBase64Encode.bs","LSCreateDataTraceID.bs","LSGetViewerFBID","LSHandleWrongRecoveryCode","LSIssueNewTaskAndGetTaskID","LSParseRecoveryCode_v2.bs"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceStoredProcedure]Beginning execution."),c.islc(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,[0,80])&&c.i64.eq(a.backupTenancy,[0,2])}),0,c.i64.to_float([0,1])).next().then(function(a,b){b=a.done;a=a.value;return b?d[0]=!1:(a.item,d[0]=!0)})},function(a){return d[0]?d[2]=c.i64.or_([0,71],[0,128]):d[2]=[0,71],c.nop(b("LSCreateDataTraceID.bs")).then(function(a){return a=a,d[3]=a[0],a})},function(a){return d[4]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBTraceUtils]",d[4],"EncryptedBackups Trace ID",d[4],c.i64.to_string(d[2])].join("")),c.db.table(153).add({traceId:d[3],initTimestampMs:c.i64.of_float(Date.now()),traceType:d[2],shouldFlush:!1,contextThree:"backup_init_flow"})},function(a){return d[7]="backup_init_flow",c.seq([function(a){return c.ftr(c.db.table(153).fetch(),function(a){return a.contextOne===d[7]||a.contextTwo===d[7]||a.contextThree===d[7]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[8]=f:(b=a.item,d[8]=b.traceId)})},function(a){return d[5]=d[8]}])},function(a){return d[5]!==f?c.sp(b("LSAppendDataTraceAddon"),d[5],[0,1413],[0,2],f,f):c.resolve()},function(e){return c.db.table(179).fetch().next().then(function(e,g){g=e.done;e=e.value;return g?c.seq([function(b){return d[8]=c.createArray(),c.fe(c.ftr(c.db.table(184).fetch(),function(b){return c.i64.eq(b.backupId,a[0])}),function(a){a=a.item;return d[12]=new c.Map(),d[12].set("virtual_device_id",a.virtualDeviceId),d[13]=(d[8].push(d[12]),d[8])})},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[9]=a[0],a})},function(e){return c.nop(b("LSParseRecoveryCode_v2.bs"),a[1],c.i64.to_string(d[9]),d[8]).then(function(a){return a=a,d[10]=a[0],d[11]=a[1],a})},function(e){return c.blobs.neq(d[10],f)?c.blobs.neq(d[11],f)?c.seq([function(a){return c.nop(b("LSBase64Encode.bs"),d[10]).then(function(a){return a=a,d[12]=a[0],a})},function(a){return c.db.table(178).put({pk:[0,1],recoveryCodeStatus:[0,1]})},function(e){return d[13]=new c.Map(),d[13].set("backup_id",a[0]),d[13].set("virtual_device_id",d[12]==null?"":d[12]),c.i64.gt([0,0],[0,0])?d[14]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[14]=[0,0],d[15]=c.toJSON(d[13]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"messenger_encrypted_backups",[0,50007],d[15],f,f,[0,0],f).then(function(a){return a=a,d[16]=a[0],a})},function(b){return c.db.table(185).add({pk:[0,1],backupId:a[0],deviceRegistrationId:a[2],taskId:d[16]})},function(a){return c.db.table(179).add({taskId:d[16],virtualDeviceId:d[10],blobDecryptionKey:d[11]})}]):(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceStoredProcedure]Wrong recovery code"),c.sp(b("LSHandleWrongRecoveryCode"))):(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceStoredProcedure]Wrong recovery code"),c.sp(b("LSHandleWrongRecoveryCode")))}]):(e.item,function(a){c.logger(a).info(a)}("Aborting addDevice execution as there is an existing pending task."))})},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceStoredProcedure]Finishing execution.")}])},function(a){return c.resolve(e)}])}e.exports=a}),null);/*FB_PKG_DELIM*/
__d("LSParseRecoveryCode_v2.bs",["Crypto.bs","CryptoLogger.bs","GF32RecoveryCodes","LSBinaryToHex.bs","LSCreateDerivedKeys.bs","LSDict","LSVec.bs","Promise","bs_belt_Option","bs_caml_array","bs_caml_obj","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function g(a,b){var c=a.substring(0,1);if(a.length!==40||c!=="1"&&c!=="2")return;var d=c==="1"?35:34,e=a.substring(1,2);a=a.substring(2,d+2|0);d="BackupRecoveryCode_v"+c+"_"+e+"_"+b;return[a,d,c]}function h(a,c,d,e,f){f=f==="1"?[0,8]:[0,16];f=b("LSVec.bs").make([f,[0,32]]);return b("LSCreateDerivedKeys.bs").call(a,c,b("Crypto.bs").Utils.strToBuf(e),void 0,b("Crypto.bs").Utils.strToBuf(d),f).then(function(a){a=a[0];if(a.length===2)return[b("bs_caml_option").some(b("bs_caml_array").get(a,0)),b("bs_caml_option").some(b("bs_caml_array").get(a,1))];else return[void 0,void 0]})}function i(a,c,d,e,f){f=f.map(function(a){return b("LSDict").shapeToRecord(a)});var g=b("LSBinaryToHex.bs").call(a,c,b("bs_belt_Option").getExn(d)),h=function(f,h){return f.then(function(f){if(f[0]!==void 0)return b("Promise").resolve(f);f=b("LSBinaryToHex.bs").call(a,c,h.virtual_device_id);return b("Promise").all([g,f]).then(function(a){if(b("bs_caml_obj").caml_equal(a[0],a[1]))return b("Promise").resolve([d,e]);else return b("Promise").resolve([void 0,void 0])})})};return f.reduce(h,b("Promise").resolve([void 0,void 0]))}function j(a,c,d,e,f){var i=b("CryptoLogger.bs").make("parse_recovery_code_v2");d=g(d,e);if(d!==void 0)return h(a,c,d[0],d[1],d[2]);else{f&&i.mustfix("could not parse recovery code with uid");return b("Promise").resolve([void 0,void 0])}}function a(a,c,d,e,f){if(d.length!==40)return b("Promise").resolve([void 0,void 0]);var g=d.substring(0,2),h=b("GF32RecoveryCodes").getCandidateCodes(d.substring(2,40)),k=function(d,h){return d.then(function(d){if(d[0]!==void 0)return b("Promise").resolve(d);else return j(a,c,g+h,e,!1).then(function(d){var e=d[0];if(e===void 0)return b("Promise").resolve([void 0,void 0]);else return i(a,c,e,d[1],f)}).then(function(a){if(a[0]===void 0)return[void 0,void 0];else return a})})};return h.reduce(k,b("Promise").resolve([void 0,void 0])).then(function(f){if(f[0]===void 0)return j(a,c,d,e,!0);else return b("Promise").resolve(f)})}c=40;f.recoveryCodeLength=c;f.parseCode=g;f.deriveKey=h;f.checkMatch=i;f.parseAndGetKey=j;f.call=a}),null);/*FB_PKG_DELIM*/
__d("MWChatEncryptedBackupsDialogLayout.react",["CometColumn.react","CometColumnItem.react","CometRow.react","CometRowItem.react","FocusRegion.react","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var e=a.actionsDirection;e=e===void 0?"row":e;var f=a.children,g=a.focusRegionId,i=a.icon,j=a.primaryAction,k=a.secondaryAction;a=a.title;g=g==null?j:h.jsx(d("FocusRegion.react").FocusRegion,{id:g,children:j});var l=h.jsx(c("TetraText.react"),{align:"center",type:"entityHeaderHeadline2",children:a});return h.jsxs(c("CometColumn.react"),{align:"center",paddingHorizontal:20,paddingVertical:20,ref:b,spacing:16,children:[i&&h.jsx(c("CometColumnItem.react"),{children:h.jsx("div",{className:"sj5x9vvc cxgpxx05 jei6r52m",children:i})}),a!=null&&h.jsx(c("CometColumnItem.react"),{align:"center",children:i!=null?l:h.jsx("div",{className:"guvg9d06",children:l})}),h.jsx(c("CometColumnItem.react"),{align:"center",paddingHorizontal:20,paddingVertical:20,children:h.jsx("div",{className:"oqcyycmt t7yuvbsa nhadk0th",children:f})}),(j!=null||k!=null)&&h.jsx(c("CometColumnItem.react"),{align:"stretch",children:e==="row"?h.jsxs(c("CometRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,spacing:8,children:[k!=null&&h.jsx(c("CometRowItem.react"),{expanding:!0,children:k}),h.jsx(c("CometRowItem.react"),{expanding:!0,children:g})]}):h.jsxs(c("CometColumn.react"),{paddingHorizontal:0,paddingVertical:0,spacing:8,children:[h.jsx(c("CometColumnItem.react"),{children:g}),k!=null&&h.jsx(c("CometColumnItem.react"),{children:k})]})})]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("MWChatEncryptedBackupsSettingsDialogQuery.graphql",["MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatEncryptedBackupsSettingsDialogQuery",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatEncryptedBackupsSettingsDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsSettingsDialogQuery",operationKind:"query",text:null}};b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);/*FB_PKG_DELIM*/
__d("usePromiseResult",["CancelablePromise","promiseDone","react","useIsMountedRef"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState;function a(a,b){var d=j(null),e=d[0],f=d[1];d=j(null);var g=d[0],k=d[1],l=i(null),m=c("useIsMountedRef")();h(function(){l.current=new(c("CancelablePromise"))(a());c("promiseDone")(l.current.getPromise().then(function(a){m.current===!0&&(f(a),k(null))})["catch"](function(a){m.current===!0&&(f(null),k(a))}));return function(){l.current&&l.current.cancel()}},b);return[e,g,l.current]}g["default"]=a}),98);
__d("keyMirrorRecursive",["invariant","isTruthy"],(function(a,b,c,d,e,f,g,h){"use strict";a=function a(b,d){var e={};i(b)||h(0,580);for(var f in b){if(!Object.prototype.hasOwnProperty.call(b,f))continue;var g=b[f],j=c("isTruthy")(d)?d+"."+f:f;i(g)?g=a(g,j):g=j;e[f]=g}return e};function i(a){return a instanceof Object&&!Array.isArray(a)}b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("LSHandleWrongRecoveryCode",["LSAppendDataTraceAddon","LSFlushDataTrace.bs"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(a){return c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsHandleWrongRecoveryCodeStoredProcedure]Beginning execution."),d[2]="backup_init_flow",c.seq([function(a){return c.ftr(c.db.table(153).fetch(),function(a){return a.contextOne===d[2]||a.contextTwo===d[2]||a.contextThree===d[2]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[4]=f:(b=a.item,d[4]=b.traceId)})},function(a){return d[0]=d[4]}])},function(a){return d[0]!==f?c.sp(b("LSAppendDataTraceAddon"),d[0],[0,1415],[0,2],f,f):c.resolve()},function(a){return c.db.table(178).put({pk:[0,1],recoveryCodeStatus:[0,3]})},function(a){return d[3]="backup_init_flow",c.seq([function(a){return c.ftr(c.db.table(153).fetch(),function(a){return a.contextOne===d[3]||a.contextTwo===d[3]||a.contextThree===d[3]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[4]=f:(b=a.item,d[4]=b.traceId)})},function(a){return d[1]=d[4]}])},function(a){return d[1]!==f?c.nop(b("LSFlushDataTrace.bs"),d[1]):c.resolve()},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsHandleWrongRecoveryCodeStoredProcedure]Finishing execution.")}])},function(a){return c.resolve(e)}])}e.exports=a}),null);/*FB_PKG_DELIM*/
__d("MWEncryptedBackupsInitializeRestoreDeferred.bs",["bs_curry","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("MWEncryptedBackupsInitializeRestore.bs").__setRef("MWEncryptedBackupsInitializeRestoreDeferred.bs");function a(a,c){var d=b("useReStore")();return h.useCallback(function(e){i.onReady(function(e){b("promiseDone")(b("bs_curry")._1(e.initializeRestoreStoredProcedure,d),a,c)})},[d,a,c])}f.$MWEncryptedBackupsInitializeRestore$Deferred=i;f.useHook=a}),null);/*FB_PKG_DELIM*/
__d("MWChatEncryptedBackupsVestaUserInfoContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react").createContext;b=a({attemptsRemaining:null,isRegistered:!1,loginTimeoutRemainingSecs:null});g.VestaUserInfoContext=b}),98);/*FB_PKG_DELIM*/
__d("MWEncryptedBackupsInitializeRestore.bs",["LS.bs","LSInitializeRestore","LSTransaction.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("LSTransaction.bs").run(a,function(a){return b("LSInitializeRestore")(b("LS.bs").make(a))},"readWrite")}f.initializeRestoreStoredProcedure=a}),null);/*FB_PKG_DELIM*/
__d("useQplImpressionRef",["QPLUserFlow","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("useVisibilityObserver")({onVisible:function(){c("QPLUserFlow").addPoint(a,b)}})}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7335043619869781"}),null);